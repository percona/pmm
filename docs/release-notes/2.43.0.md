# Percona Monitoring and Management 2.43.0

| **Release date** | July , 2024                                                                                     |
| -----------------| ----------------------------------------------------------------------------------------------- |
| **Installation** | [Installing Percona Monitoring and Management](../quickstart/index.md) |

Percona Monitoring and Management (PMM) is an open source database monitoring, management, and observability solution for MySQL, PostgreSQL, and MongoDB.

It enables you to observe the health of your database systems, explore new patterns in their behavior, troubleshoot them and execute database management operations regardless of whether your databases are located on-premises or in the cloud.

## What's new in this release

This release introduces this and that

## Release highlights

### MongoDB dashboard updates: Now generally available (GA)

We are pleased to announce that the experimental MongoDB dashboards introduced in our previous release have now reached GA status. These updates significantly improve MongoDB monitoring and performance analysis within PMM, offering enhanced filtering, more detailed metrics, and better visualization of MongoDB states and operations.

The updates cover three main dashboards:

1. **MongoDB Instance Summary Dashboard**: Redesigned for comprehensive instance monitoring with new panels and metrics.

2. **MongoDB Replica Set Summary Dashboard**: Extensively revamped with:
   - Improved **Overview** row for easy node comparison, showing replica set role (Primary, Secondary, Arbiter) as well as individual metrics like CPU, memory, disk I/O, network traffic, and version
   - New **Details** row with panels for top hottest collections and command operations
   - Added **Collection Details** row displaying sizes and counts
   - Enhanced replication section
   - Individual performance rows for in-depth, node-specific metrics, with roles clearly indicated for improved visualization and troubleshooting

3. **MongoDB Sharded Cluster Summary Dashboard** (renamed from **MongoDB Cluster Summary**):
   - New layout with additional filters and panels for comprehensive cluster health monitoring
   - Enhanced version information display, now including MongoS (router) versions alongside config and shard node versions
   - Improved visibility of all components within the sharded cluster architecture

These improvements enhance MongoDB performance analysis across instances, clusters, and replica sets, while saving time with centralized KPI views.

## Accessing the new dashboards

These updated dashboards are now available from the MongoDB and Dashboards sections within PMM, replacing the previous versions as the default dashboards for MongoDB monitoring. 

The previous versions of these dashboards have been moved to the Experimental folder and renamed with **(Old)** appended to their names. These old dashboards will be removed in future releases. We encourage you to transition to the new dashboards for improved monitoring capabilities and share your feedback on these new dashboards in the PMM forum.

### New MongoDB collector: CurrentOp

The MongoDB exporter now includes the **CurrentOp** collector, offering visibility into active operations, including the new `mongodb_currentop_query_uptime` metric.

To start the MongoDB exporter with the CurrentOp collector enabled, use the `--enable-all-collectors` flag when adding MongoDB services to your PMM instance:

```sh
pmm-admin add mongodb --enable-all-collectors ...
```

Specifying a limit with `--max-collections` for this collector is not necessary.

!!! note "Operation collection limitation"
    To minimize impact on disk usage, the CurrentOp collector is designed to collect only operations that have been running for longer than 1 minute. This limitation helps focus on potentially problematic long-running operations while keeping data volume manageable.

For more information on MongoDB collectors and metrics, see the [pmm-admin commands documentation](../use/commamds/pmm-admin.md).


## Improvements

- [PMM-13133](https://perconadev.atlassian.net/browse/PMM-13133) - 

- [PMM-13054](https://perconadev.atlassian.net/browse/PMM-13054) - The default number of log lines for each log file returned by `httsp://<pmm-server>/logs.zip` endpoint has been increased from 1,000 to 50,000. 

Additionally, the endpoint now includes a customizable line-count parameter in the download URL, allowing you to specify a custom number of log lines or opt for unlimited log size. For more information, see the [API documentation](https://percona-pmm.readme.io/reference/logs).

- [PMM-13159](https://perconadev.atlassian.net/browse/PMM-13159) - We have removed the experimental MongoDB **Collection Details** dashboard from PMM. You can now find up-to-date collection information on the new Mongo **Cluster Summary** dashboard, which provides a more comprehensive and accurate view of MongoDB collection metrics. 

If you have been using the **Collection Details** dashboard, make sure to now check the new **MongoDB Cluster Summary** dashboard for similar information.


## Maintenance

### QAN update: Upgrade to `pg_query_go` v5 and impact on PostgreSQL 9.x

As part of our ongoing maintenance efforts, we have upgraded the `pg_query_go` package to version 5. This latest version helps parse PostgreSQL queries in QAN, provides improved functionality, and enables subsequent upgrades of important dependencies.

However, with this change, QAN will no longer be able to list PostgreSQL database tables for versions 9.4, 9.5, and 9.6. Since all PostgreSQL 9.x versions have already reached their end-of-life status, we recommend upgrading to a supported version of PostgreSQL.

If you're looking to upgrade, you can easily [install the latest version of Percona Distribution for PostgreSQL](https://docs.percona.com/postgresql/16/installing.html). 

### Fixed issues

- [PMM-13246](https://perconadev.atlassian.net/browse/PMM-13246) - Addressed four security vulnerabilities (CVEs) related to the GNU C Library (Glibc), specifically affecting the Name Service Cache Daemon (nscd):

   - [CVE-2024-33599](https://nvd.nist.gov/vuln/detail/CVE-2024-33599)
   - [CVE-2024-33600](https://nvd.nist.gov/vuln/detail/CVE-2024-33600)
   - [CVE-2024-33601](https://nvd.nist.gov/vuln/detail/CVE-2024-33601)
   - [CVE-2024-33602](https://nvd.nist.gov/vuln/detail/CVE-2024-33602) 
 
 While these vulnerabilities did not directly impact PMM's core functionality, fixing them enhanced the overall security of the PMM Server environment. 

