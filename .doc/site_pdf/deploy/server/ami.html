
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="Percona Monitoring and Management Documentation" name="description"/>
<meta content="Percona LLC" name="author"/>
<link href="../../assets/images/favicon.png" rel="shortcut icon"/>
<meta content="mkdocs-1.1.2, mkdocs-material-6.1.7" name="generator"/>
<title>Running PMM Server Using AWS Marketplace - Percona Monitoring and Management Documentation</title>
<link href="../../assets/stylesheets/main.19753c6b.min.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/palette.196e0c26.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&amp;display=fallback" rel="stylesheet"/>
<style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
</head>
<body data-md-color-accent="none" data-md-color-primary="none" data-md-color-scheme="" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#setting-up-a-pmm-instance-using-the-website-gui">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header-nav md-grid">
<a aria-label="Percona Monitoring and Management Documentation" class="md-header-nav__button md-logo" href="../../index.html" title="Percona Monitoring and Management Documentation">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"></path></svg>
</a>
<label class="md-header-nav__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"></path></svg>
</label>
<div class="md-header-nav__title" data-md-component="header-title">
<div class="md-header-nav__ellipsis">
<span class="md-header-nav__topic md-ellipsis">
            Percona Monitoring and Management Documentation
          </span>
<span class="md-header-nav__topic md-ellipsis">
            
              Running PMM Server Using AWS Marketplace
            
          </span>
</div>
</div>
<label class="md-header-nav__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" data-md-state="active" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</label>
<button aria-label="Clear" class="md-search__icon md-icon" data-md-component="search-reset" tabindex="-1" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>
</button>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="Percona Monitoring and Management Documentation" class="md-nav__button md-logo" href="../../index.html" title="Percona Monitoring and Management Documentation">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"></path></svg>
</a>
    Percona Monitoring and Management Documentation
  </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../index.html">
      Percona Monitoring and Management Documentation
    </a>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="nav-2" id="nav-2" type="checkbox"/>
<label class="md-nav__link" for="nav-2">
      Basics
      <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Basics" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="nav-2">
<span class="md-nav__icon md-icon"></span>
        Basics
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../architecture.html">
      Architecture Overview
    </a>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="nav-2-2" id="nav-2-2" type="checkbox"/>
<label class="md-nav__link" for="nav-2-2">
      Deployment Instructions
      <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Deployment Instructions" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="nav-2-2">
<span class="md-nav__icon md-icon"></span>
        Deployment Instructions
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../index.html">
      Deploying Percona Monitoring and Management
    </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-2-2" id="nav-2-2-2" type="checkbox"/>
<label class="md-nav__link" for="nav-2-2-2">
      Docker
      <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Docker" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="nav-2-2-2">
<span class="md-nav__icon md-icon"></span>
        Docker
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="docker.html">
      Running PMM Server via Docker
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="docker.setting-up.html">
      Setting Up a Docker Container for PMM Server
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="docker.upgrading.html">
      Updating PMM Server Using Docker
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="docker.backing-up.html">
      Backing Up PMM Data from the Docker Container
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="docker.restoring.html">
      Restoring the Backed Up Information to the PMM Data Container
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-2-3" id="nav-2-2-3" type="checkbox"/>
<label class="md-nav__link" for="nav-2-2-3">
      Virtual Appliance
      <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Virtual Appliance" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="nav-2-2-3">
<span class="md-nav__icon md-icon"></span>
        Virtual Appliance
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="virtual-appliance.html">
      PMM Server as a Virtual Appliance
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="ova.virtualbox.cli.html">
      VirtualBox Using the Command Line
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="ova.virtualbox.gui.html">
      VirtualBox Using the GUI
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="ova.vmware-workstation-player.html">
      VMware Workstation Player
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
        Running PMM Server Using AWS Marketplace
        <span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="ami.html">
      Running PMM Server Using AWS Marketplace
    </a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#setting-up-a-pmm-instance-using-the-website-gui">
    Setting Up a PMM Instance Using the website GUI
  </a>
<nav aria-label="Setting Up a PMM Instance Using the website GUI" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#setting-up-a-vpc-and-an-ec2-instance-type">
    Setting up a VPC and an EC2 Instance Type
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#limiting-access-to-the-instance-security-group-and-a-key-pair">
    Limiting Access to the instance: security group and a key pair
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#applying-settings">
    Applying settings
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#adjusting-instance-settings-in-the-ec2-console">
    Adjusting instance settings in the EC2 Console
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#running-the-instance">
    Running the instance
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#resizing-the-ebs-volume">
    Resizing the EBS Volume
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#running-pmm-server-using-amazon-machine-images">
    Running PMM Server Using Amazon Machine Images
  </a>
<nav aria-label="Running PMM Server Using Amazon Machine Images" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#running-from-command-line">
    Running from Command Line
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#upgrading-pmm-server">
    Upgrading PMM Server
  </a>
<nav aria-label="Upgrading PMM Server" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#upgrading-ec2-instance-class">
    Upgrading EC2 instance class
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#expanding-the-pmm-data-ebs-volume">
    Expanding the PMM Data EBS Volume
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-3" id="nav-2-3" type="checkbox"/>
<label class="md-nav__link" for="nav-2-3">
      Tools of PMM
      <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Tools of PMM" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="nav-2-3">
<span class="md-nav__icon md-icon"></span>
        Tools of PMM
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../tool.html">
      Tools of PMM
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../qan.html">
      PMM Query Analytics
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../metrics-monitor.html">
      Metrics Monitor
    </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" id="nav-3" type="checkbox"/>
<label class="md-nav__link" for="nav-3">
      Advanced
      <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Advanced" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="nav-3">
<span class="md-nav__icon md-icon"></span>
        Advanced
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../pmm-admin.html">
      Managing PMM Client
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../remote-instance.html">
      Adding a MySQL or PostgreSQL Remote DB instance to PMM
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../amazon-rds.html">
      Adding an Amazon RDS DB instance to PMM
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../conf-mysql.html">
      Configuring MySQL for Best Results
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../conf-postgres.html">
      Configuring PostgreSQL for Monitoring
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../conf-mongodb.html">
      Configuring MongoDB for Monitoring in PMM Query Analytics
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../security.html">
      Security Features in Percona Monitoring and Management
    </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="nav-3-8" id="nav-3-8" type="checkbox"/>
<label class="md-nav__link" for="nav-3-8">
      Metrics Monitor Dashboards
      <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Metrics Monitor Dashboards" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="nav-3-8">
<span class="md-nav__icon md-icon"></span>
        Metrics Monitor Dashboards
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../index.metrics-monitor.dashboard.html">
      Metrics Monitor Dashboards
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../dashboard.home.html">
      Home Dashboard
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../dashboard.pmm-system-summary.html">
      *PMM System Summary* Dashboard
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../dashboard.advanced-data-exploration.html">
      *Advanced Data Exploration* Dashboard
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../dashboard.cross-server-graphs.html">
      Cross Server Graphs
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../dashboard.summary.html">
      Summary Dashboard
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../dashboard.trends.html">
      Trends Dashboard
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../dashboard.network-overview.html">
      *Network Overview* Dashboard
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../dashboard.cpu-utilization-details-cores.html">
      CPU Utilization Details (Cores)
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../dashboard.disk-space.html">
      Disk space
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../dashboard.system-overview.html">
      *System Overview* Dashboard
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../dashboard.compare-system-parameters.html">
      *Compare System Parameters* Dashboard
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../dashboard.overview-numa-metrics.html">
      *NUMA Overview* Dashboard
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../dashboard.prometheus.html">
      *Prometheus* Dashboard
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../dashboard.prometheus-exporter-status.html">
      Prometheus Exporter Status
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../dashboard.prometheus-exporters-overview.html">
      Prometheus Exporters Overview
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../dashboard.mysql-amazon-aurora-metrics.html">
      MySQL Amazon Aurora Metrics
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../dashboard.mysql-command-handler-counters-compare.html">
      *MySQL Command/Handler Counters Compare* Dashboard
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../dashboard.mysql-innodb-compression.html">
      *MySQL InnoDB Compression* Dashboard
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../dashboard.mysql-innodb-metrics.html">
      MySQL InnoDB Metrics
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../dashboard.mysql-innodb-metrics-advanced.html">
      MySQL InnoDB Metrics (Advanced) Dashboard
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../dashboard.mysql-myisam-aria-metrics.html">
      MySQL MyISAM Aria Metrics Dashboard
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../dashboard.mysql-myrocks-metrics.html">
      *MySQL MyRocks Metrics* Dashboard
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../dashboard.mysql-overview.html">
      MySQL Overview
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../dashboard.mysql-performance-schema.html">
      MySQL *Performance Schema*  Dashboard
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../dashboard.mysql-performance-schema-wait-events.html">
      Performance Schema Wait Event Analysis Dashboard
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../dashboard.mysql-query-response-time.html">
      MySQL Query Response Time
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../dashboard.mysql-replication.html">
      MySQL Replication
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../dashboard.mysql-table-statistics.html">
      *MySQL Table Statistics*
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../dashboard.mysql-user-statistics.html">
      *MySQL User Statistics*
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../dashboard.mongodb-cluster-summary.html">
      MongoDB Cluster Summary
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../dashboard.mongodb-inmemory.html">
      MongoDB inMemory Dashboard
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../dashboard.mongodb-mmapv1.html">
      MongoDB MMAPv1 Dashboard
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../dashboard.mongodb-overview.html">
      MongoDB Overview
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../dashboard.mongodb-replset.html">
      MongoDB ReplSet
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../dashboard.mongodb-rocksdb.html">
      MongoDB RocksDB Dashboard
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../dashboard.mongodb-wiredtiger.html">
      MongoDB WiredTiger Dashboard
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../dashboard.postgres-overview.html">
      *PostgreSQL Overview*
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../dashboard.pxc-galera-cluster-overview.html">
      PXC/Galera Cluster Overview Dashboard
    </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" id="nav-4" type="checkbox"/>
<label class="md-nav__link" for="nav-4">
      Reference
      <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Reference" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="nav-4">
<span class="md-nav__icon md-icon"></span>
        Reference
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-1" id="nav-4-1" type="checkbox"/>
<label class="md-nav__link" for="nav-4-1">
      Release Notes
      <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Release Notes" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="nav-4-1">
<span class="md-nav__icon md-icon"></span>
        Release Notes
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../release-notes/index.html">
      Percona Monitoring and Management Release Notes
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../release-notes/1.17.4.html">
      *Percona Monitoring and Management* 1.17.4
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../release-notes/1.17.3.html">
      Percona Monitoring and Management 1.17.3
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../release-notes/1.17.2.html">
      Percona Monitoring and Management 1.17.2
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../release-notes/1.17.1.html">
      Percona Monitoring and Management 1.17.1
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../release-notes/1.17.0.html">
      Percona Monitoring and Management 1.17.0
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../release-notes/1.16.0.html">
      Percona Monitoring and Management 1.16.0
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../release-notes/1.15.0.html">
      Percona Monitoring and Management 1.15.0
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../release-notes/1.14.1.html">
      Percona Monitoring and Management 1.14.1
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../release-notes/1.14.0.html">
      Percona Monitoring and Management 1.14.0
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../release-notes/1.13.0.html">
      Percona Monitoring and Management 1.13.0
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../release-notes/1.12.0.html">
      Percona Monitoring and Management 1.12.0
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../release-notes/1.11.0.html">
      Percona Monitoring and Management 1.11.0
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../release-notes/1.10.0.html">
      *Percona Monitoring and Management* 1.10.0
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../release-notes/1.9.1.html">
      *Percona Monitoring and Management* 1.9.1
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../release-notes/1.9.0.html">
      *Percona Monitoring and Management* 1.9.0
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../release-notes/1.8.1.html">
      *Percona Monitoring and Management* 1.8.1
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../release-notes/1.8.0.html">
      *Percona Monitoring and Management* 1.8.0
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../release-notes/1.7.0.html">
      *Percona Monitoring and Management* 1.7.0
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../release-notes/1.6.1.html">
      Percona Monitoring and Management 1.6.1
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../release-notes/1.6.0.html">
      *Percona Monitoring and Management* 1.6.0
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../release-notes/1.5.3.html">
      Percona Monitoring and Management 1.5.3
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../release-notes/1.5.2.html">
      Percona Monitoring and Management 1.5.2
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../release-notes/1.5.1.html">
      Percona Monitoring and Management 1.5.1
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../release-notes/1.5.0.html">
      Percona Monitoring and Management 1.5.0
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../release-notes/1.4.1.html">
      Percona Monitoring and Management 1.4.1
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../release-notes/1.4.0.html">
      Percona Monitoring and Management 1.4.0
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../release-notes/1.3.2.html">
      Percona Monitoring and Management 1.3.2
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../release-notes/1.3.1.html">
      Percona Monitoring and Management 1.3.1
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../release-notes/1.3.0.html">
      Percona Monitoring and Management 1.3.0
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../release-notes/1.2.2.html">
      Percona Monitoring and Management 1.2.2
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../release-notes/1.2.1.html">
      Percona Monitoring and Management 1.2.1
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../release-notes/1.2.0.html">
      Percona Monitoring and Management 1.2.0
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../release-notes/1.1.5.html">
      Percona Monitoring and Management 1.1.5
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../release-notes/1.1.4-2.html">
      Percona Monitoring and Management 1.1.4-2
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../release-notes/1.1.4.html">
      Percona Monitoring and Management 1.1.4
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../release-notes/1.1.3.html">
      Percona Monitoring and Management 1.1.3
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../release-notes/1.1.2.html">
      Percona Monitoring and Management 1.1.2
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../release-notes/1.1.1.html">
      Percona Monitoring and Management 1.1.1
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../release-notes/1.1.0beta.html">
      Percona Monitoring and Management 1.1.0 Beta
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../release-notes/1.0.7.html">
      Percona Monitoring and Management 1.0.7
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../release-notes/1.0.6.html">
      Percona Monitoring and Management 1.0.6
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../release-notes/1.0.5.html">
      Percona Monitoring and Management 1.0.5
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../release-notes/1.0.4.html">
      Percona Monitoring and Management 1.0.4
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../release-notes/1.0.3.html">
      Percona Monitoring and Management Beta 1.0.3
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../release-notes/1.0.2.html">
      Percona Monitoring and Management Beta 1.0.2
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../release-notes/1.0.1.html">
      Percona Monitoring and Management Beta 1.0.1
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../release-notes/1.0.0.html">
      Percona Monitoring and Management Beta 1.0.0
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-2" id="nav-4-2" type="checkbox"/>
<label class="md-nav__link" for="nav-4-2">
      Exporters
      <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Exporters" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="nav-4-2">
<span class="md-nav__icon md-icon"></span>
        Exporters
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../index.exporter-option.html">
      Exporters Overview
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../section.exporter.mongodb.html">
      MongoDB Exporter (mongodb_exporter)
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../section.exporter.mysqld.html">
      MySQL Server Exporter (mysqld_exporter)
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../section.exporter.node.html">
      Node Exporter (node_exporter)
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../section.exporter.proxysql.html">
      ProxySQL Server Exporter (proxysql_exporter)
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../section.exporter.rds.html">
      Amazon RDS Exporter (rds_exporter)
    </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../contact.html">
      Contact Us
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../faq.html">
      FAQ
    </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-5" id="nav-4-5" type="checkbox"/>
<label class="md-nav__link" for="nav-4-5">
      Glossaries
      <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Glossaries" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="nav-4-5">
<span class="md-nav__icon md-icon"></span>
        Glossaries
      </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../index.glossary.html">
      Glossaries
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../glossary.option.html">
      PMM Server Additional Options
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../glossary.terminology.html">
      Terminology Reference
    </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#setting-up-a-pmm-instance-using-the-website-gui">
    Setting Up a PMM Instance Using the website GUI
  </a>
<nav aria-label="Setting Up a PMM Instance Using the website GUI" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#setting-up-a-vpc-and-an-ec2-instance-type">
    Setting up a VPC and an EC2 Instance Type
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#limiting-access-to-the-instance-security-group-and-a-key-pair">
    Limiting Access to the instance: security group and a key pair
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#applying-settings">
    Applying settings
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#adjusting-instance-settings-in-the-ec2-console">
    Adjusting instance settings in the EC2 Console
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#running-the-instance">
    Running the instance
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#resizing-the-ebs-volume">
    Resizing the EBS Volume
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#running-pmm-server-using-amazon-machine-images">
    Running PMM Server Using Amazon Machine Images
  </a>
<nav aria-label="Running PMM Server Using Amazon Machine Images" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#running-from-command-line">
    Running from Command Line
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#upgrading-pmm-server">
    Upgrading PMM Server
  </a>
<nav aria-label="Upgrading PMM Server" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#upgrading-ec2-instance-class">
    Upgrading EC2 instance class
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#expanding-the-pmm-data-ebs-volume">
    Expanding the PMM Data EBS Volume
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content">
<article class="md-content__inner md-typeset">
<h1>Running PMM Server Using AWS Marketplace</h1>
<p>You can run an instance of PMM Server hosted at AWS Marketplace. This method replaces the outdated method where you would have to accessing an AMI (Amazon Machine Image) by using its ID, different for each region.</p>
<p><img alt="" src="../../_images/aws-marketplace.pmm.home-page.1.png"/></p>
<p><em>The home page of PMM in AWS Marketplace.</em></p>
<p>Assuming that you have an AWS (Amazon Web Services) account, locate <em>Percona Monitoring and Management Server</em> in <a href="https://aws.amazon.com/marketplace/pp/B077J7FYGX">AWS Marketplace</a>.</p>
<p>The Pricing Information section allows to select your region and choose an instance type in the table that shows the pricing for the software and infrastructure hosted in the region you have selected (the recommended EC2 instance type is preselected for you). Note that actual choice will be done later, and this table serves the information purposes, to plan costs.</p>
<p><img alt="" src="../../_images/aws-marketplace.pmm.home-page.2.png"/></p>
<p><em>As soon as you select your region, you can choose the EC2 instance in it and see its price. PMM comes for no cost, you may only need to pay for the infrastructure provided by Amazon.</em></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Disk space consumed by PMM Server depends on the number of hosts under monitoring. Each environment will be unique, however consider modeling your data consumption based on <a href="https://pmmdemo.percona.com/">PMM Demo</a> web site, which consumes ~230MB/host/day, or ~6.9GB/host at the default 30 day retention period. See <a href="https://www.percona.com/blog/2017/05/04/how-much-disk-space-should-i-allocate-for-percona-monitoring-and-management/">this blog post</a> for more details.</p>
</div>
<p>Clicking the Continue to Subscribe button will proceed to the terms and conditions page. Clicking Continue to Configuration there will bring a new page to start setting up your instance.</p>
<p><img alt="" src="../../_images/aws-marketplace.pmm.launch-on-ec2.1-click-launch.0.png"/></p>
<p><em>Percona Monitoring and Management on AWS Marketplace - launch options.</em></p>
<p>Available launch options in the drop-down menu include <em>Launch from Website</em> and <em>Launch through EC2</em>. The first one is a quick way to make your instance ready. For more control, use the Manual Launch through EC2 option.</p>
<p>In this chapter</p>
<div class="toc">
<ul>
<li><a href="#setting-up-a-pmm-instance-using-the-website-gui">Setting Up a PMM Instance Using the website GUI</a><ul>
<li><a href="#setting-up-a-vpc-and-an-ec2-instance-type">Setting up a VPC and an EC2 Instance Type</a></li>
<li><a href="#limiting-access-to-the-instance-security-group-and-a-key-pair">Limiting Access to the instance: security group and a key pair</a></li>
<li><a href="#applying-settings">Applying settings</a></li>
<li><a href="#adjusting-instance-settings-in-the-ec2-console">Adjusting instance settings in the EC2 Console</a></li>
<li><a href="#running-the-instance">Running the instance</a></li>
<li><a href="#resizing-the-ebs-volume">Resizing the EBS Volume</a></li>
</ul>
</li>
<li><a href="#running-pmm-server-using-amazon-machine-images">Running PMM Server Using Amazon Machine Images</a><ul>
<li><a href="#running-from-command-line">Running from Command Line</a></li>
</ul>
</li>
<li><a href="#upgrading-pmm-server">Upgrading PMM Server</a><ul>
<li><a href="#upgrading-ec2-instance-class">Upgrading EC2 instance class</a></li>
<li><a href="#expanding-the-pmm-data-ebs-volume">Expanding the PMM Data EBS Volume</a></li>
</ul>
</li>
</ul>
</div>
<h2 id="setting-up-a-pmm-instance-using-the-website-gui">Setting Up a PMM Instance Using the website GUI</h2>
<p>Choose <em>Launch from Website</em> option, your region, and the EC2 instance type on the launch options page. On the previous screenshot, we use the <code>US East (N. Virginia)</code> region and the EC2 Instance Type named <code>m4.large</code>. To reduce cost, you need to choose the region closest to your location.</p>
<p>When all choices are done, click the <em>Continue to Launch</em> button to proceed.</p>
<h3 id="setting-up-a-vpc-and-an-ec2-instance-type">Setting up a VPC and an EC2 Instance Type</h3>
<p>In this demonstration, we use the VPC (virtual private cloud) named <code>vpc-484bb12f</code>. The exact name of VPC may be different from the example discussed here.</p>
<p><img alt="" src="../../_images/aws-marketplace.pmm.launch-on-ec2.1-click-launch.1.png"/></p>
<p><em>Select VPC in the VPC Settings section.</em></p>
<p>Instead of a VPC (virtual private cloud) you may choose the <code>EC2 Classic (no VPC)</code> option and use a public cloud.</p>
<p>Selecting a subnet, you effectively choose an availability zone in the selected region. We recommend that you choose the availability zone where your RDS is located.</p>
<p>Note that the cost estimation is automatically updated based on your choice.</p>
<h3 id="limiting-access-to-the-instance-security-group-and-a-key-pair">Limiting Access to the instance: security group and a key pair</h3>
<p>In the Security Group section, which acts like a firewall, you may use the preselected option <code>Create new based on seller settings</code> to create a security group with recommended settings. In the Key Pair select an already set up EC2 key pair to limit access to your instance.</p>
<p><img alt="" src="../../_images/aws-marketplace.pmm.launch-on-ec2.1-click-launch.3.png"/></p>
<p><em>Select an already existing key pair (use the EC2 console to create one if necessary)</em></p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>It is important that the security group allow communication via the the following ports Ports: <em>22</em>, <em>80</em>, and <em>443</em>. PMM should also be able to access port <em>3306</em> on the RDS that uses the instance.</p>
</div>
<p><img alt="" src="../../_images/aws-marketplace.pmm.launch-on-ec2.1-click-launch.2.png"/></p>
<p><em>Select a security group which manages firewall settings.</em></p>
<h3 id="applying-settings">Applying settings</h3>
<p>Scroll up to the top of the page to view your settings. Then, click the Launch with 1 click button to continue and adjust your settings in the <strong>EC2 console</strong>.</p>
<p><img alt="" src="../../_images/aws-marketplace.pmm.launch-on-ec2.1-click-launch.3.png"/></p>
<p><strong>NOTE</strong>: The <em>Launch with 1 click</em> button may alternatively be titled as <em>Accept Software Terms &amp; Launch with 1-Click</em>.</p>
<h3 id="adjusting-instance-settings-in-the-ec2-console">Adjusting instance settings in the EC2 Console</h3>
<p>Your clicking the Launch with 1 click button, deploys your instance. To continue setting up your instance, run the <strong>EC2 console</strong>. It is available as a link at the top of the page that opens after you click the Launch with 1 click button.</p>
<p>Your instance appears in the <strong>EC2 console</strong> in a table that lists all instances available to you. When a new instance is only created, it has no name. Make sure that you give it a name to distinguish from other instances managed via the <strong>EC2 console</strong>.</p>
<p><img alt="" src="../../_images/aws-marketplace.ec2-console.pmm.1.png"/></p>
<p><em>The newly created instance selected.</em></p>
<h3 id="running-the-instance">Running the instance</h3>
<p>After you add your new instance it will take some time to initialize it. When the AWS console reports that the instance is now in a running state, you many continue with configuration of PMM Server.</p>
<p><strong>NOTE</strong>: When started the next time after rebooting, your instance may acquire another IP address. You may choose to set up an elastic IP to avoid this problem.</p>
<p>With your instance selected, open its IP address in a web browser. The IP address appears in the IPv4 Public IP column or as value of the Public IP field at the top of the Properties panel.</p>
<p><img alt="" src="../../_images/aws-marketplace.pmm.ec2.properties.png"/></p>
<p><em>The public IP address of the instance</em></p>
<p>To run the instance, copy and paste its public IP address to the location bar of your browser. In the <em>Percona Monitoring and Management</em> welcome page that opens, enter the instance ID.</p>
<p><img alt="" src="../../_images/installation-wizard.ami.instance-id-verification.png"/></p>
<p>You can copy the instance ID from the Properties panel of your instance, select the Description tab back in the <strong>EC2 console</strong>. Click the Copy button next to the Instance ID field. This button appears as soon as you hover the cursor of your mouse over the ID.</p>
<p><img alt="" src="../../_images/aws-marketplace.pmm.ec2.properties.instance-id.png"/></p>
<p><em>Hover the cursor over the instance ID for the Copy button to appear.</em></p>
<p>Paste the instance in the Instance ID field of the <em>Percona Monitoring and Management</em> welcome page and click Submit.</p>
<p><img alt="" src="../../_images/installation-wizard.ami.account-credentials.png"/></p>
<p>Click Submit and enter your user name and password in the dialog window that pops up. The PMM Server is now ready and the home page opens.</p>
<p><img alt="" src="../../_images/pmm.home-page.png"/></p>
<p>You are creating a username and password that will be used for two purposes:</p>
<ol>
<li>
<p>authentication as a user to PMM - this will be the credentials you need in order to log in to PMM.</p>
</li>
<li>
<p>authentication between PMM Server and PMM Clients - you will re-use these credentials when configuring pmm-client for the first time on a server, for example:</p>
<p>Run this command as root or by using the <strong>sudo</strong> command</p>
<div class="highlight"><pre><span></span><code>$ pmm-admin config --username= --password= --server=1.2.3.4
</code></pre></div>
</li>
</ol>
<p><strong>NOTE</strong>: <strong>Accessing the instance by using an SSH client.</strong></p>
<p>For instructions about how to access your instances by using an SSH client, see <a href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AccessingInstancesLinux.html">Connecting to Your Linux Instance Using SSH</a></p>
<p>Make sure to replace the user name <code>ec2-user</code> used in this document with <code>admin</code>.</p>
<h3 id="resizing-the-ebs-volume">Resizing the EBS Volume</h3>
<p>Your instance comes with a predefined size which can become a limitation. To make more disk space available to your instance, you need to increase the size of the EBS volume as needed and then your instance will reconfigure itself to use the new size.</p>
<p>The procedure of resizing EBS volumes is described in the Amazon documentation: <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ebs-modify-volume.html">Modifying the Size, IOPS, or Type of an EBS Volume on Linux</a>.</p>
<p>After the EBS volume is updated, PMM Server instance will autodetect changes in approximately 5 minutes or less and will reconfigure itself for the updated conditions.</p>
<h2 id="running-pmm-server-using-amazon-machine-images">Running PMM Server Using Amazon Machine Images</h2>
<p>Percona provides public Amazon Machine Images (AMI) with PMM Server in all regions where Amazon Web Services (AWS) is available. You can launch an instance using the web console for the corresponding image:</p>
<table>
<thead>
<tr>
<th>Region</th>
<th>String</th>
<th>AMI ID</th>
</tr>
</thead>
<tbody>
<tr>
<td>Asia Pacific (Tokyo)</td>
<td><strong>ap-northeast-1</strong></td>
<td><a href="https://console.aws.amazon.com/ec2/v2/home?region=us-east-1#Images:visibility=public-images;imageId=ami-0d7cd5d91dba7a337">ami-0d7cd5d91dba7a337</a></td>
</tr>
<tr>
<td>Asia Pacific (Seoul)</td>
<td><strong>ap-northeast-2</strong></td>
<td><a href="https://console.aws.amazon.com/ec2/v2/home?region=us-east-1#Images:visibility=public-images;imageId=ami-0606a76833698d66b">ami-0606a76833698d66b</a></td>
</tr>
<tr>
<td>Asia Pacific (Mumbai)</td>
<td><strong>ap-south-1</strong></td>
<td><a href="https://console.aws.amazon.com/ec2/v2/home?region=us-east-1#Images:visibility=public-images;imageId=ami-0a4b0afc6926b8625">ami-0a4b0afc6926b8625</a></td>
</tr>
<tr>
<td>Asia Pacific (Singapore)</td>
<td><strong>ap-southeast-1</strong></td>
<td><a href="https://console.aws.amazon.com/ec2/v2/home?region=us-east-1#Images:visibility=public-images;imageId=ami-004ded7fa924ce4ec">ami-004ded7fa924ce4ec</a></td>
</tr>
<tr>
<td>Asia Pacific (Sydney)</td>
<td><strong>ap-southeast-2</strong></td>
<td><a href="https://console.aws.amazon.com/ec2/v2/home?region=us-east-1#Images:visibility=public-images;imageId=ami-0a3f98b8b6c34a2e2">ami-0a3f98b8b6c34a2e2</a></td>
</tr>
<tr>
<td>Canada (Central)</td>
<td><strong>ca-central-1</strong></td>
<td><a href="https://console.aws.amazon.com/ec2/v2/home?region=us-east-1#Images:visibility=public-images;imageId=ami-00b46791100d4c097">ami-00b46791100d4c097</a></td>
</tr>
<tr>
<td>EU (Frankfurt)</td>
<td><strong>eu-central-1</strong></td>
<td><a href="https://console.aws.amazon.com/ec2/v2/home?region=us-east-1#Images:visibility=public-images;imageId=ami-0669bea2272632747">ami-0669bea2272632747</a></td>
</tr>
<tr>
<td>EU (Stockholm)</td>
<td><strong>eu-north-1</strong></td>
<td><a href="https://console.aws.amazon.com/ec2/v2/home?region=us-east-1#Images:visibility=public-images;imageId=ami-01ae93772f26921ec">ami-01ae93772f26921ec</a></td>
</tr>
<tr>
<td>EU (Ireland)</td>
<td><strong>eu-west-1</strong></td>
<td><a href="https://console.aws.amazon.com/ec2/v2/home?region=us-east-1#Images:visibility=public-images;imageId=ami-0ecd45316fe33441c">ami-0ecd45316fe33441c</a></td>
</tr>
<tr>
<td>EU (London)</td>
<td><strong>eu-west-2</strong></td>
<td><a href="https://console.aws.amazon.com/ec2/v2/home?region=us-east-1#Images:visibility=public-images;imageId=ami-0edcc115190b77ed8">ami-0edcc115190b77ed8</a></td>
</tr>
<tr>
<td>EU (Paris)</td>
<td><strong>eu-west-3</strong></td>
<td><a href="https://console.aws.amazon.com/ec2/v2/home?region=us-east-1#Images:visibility=public-images;imageId=ami-0640656f6400a870b">ami-0640656f6400a870b</a></td>
</tr>
<tr>
<td>South America (SÃ£o Paulo)</td>
<td><strong>sa-east-1</strong></td>
<td><a href="https://console.aws.amazon.com/ec2/v2/home?region=us-east-1#Images:visibility=public-images;imageId=ami-07934243233049aa6">ami-07934243233049aa6</a></td>
</tr>
<tr>
<td>US East (N. Virginia)</td>
<td><strong>us-east-1</strong></td>
<td><a href="https://console.aws.amazon.com/ec2/v2/home?region=us-east-1#Images:visibility=public-images;imageId=ami-05d0d72221501bdff">ami-05d0d72221501bdff</a></td>
</tr>
<tr>
<td>US East (Ohio)</td>
<td><strong>us-east-2</strong></td>
<td><a href="https://console.aws.amazon.com/ec2/v2/home?region=us-east-1#Images:visibility=public-images;imageId=ami-0b8eb1cbcb6dfe2f2">ami-0b8eb1cbcb6dfe2f2</a></td>
</tr>
<tr>
<td>US West (N. California)</td>
<td><strong>us-west-1</strong></td>
<td><a href="https://console.aws.amazon.com/ec2/v2/home?region=us-east-1#Images:visibility=public-images;imageId=ami-0178d5a07344e01e4">ami-0178d5a07344e01e4</a></td>
</tr>
<tr>
<td>US West (Oregon)</td>
<td><strong>us-west-2</strong></td>
<td><a href="https://console.aws.amazon.com/ec2/v2/home?region=us-east-1#Images:visibility=public-images;imageId=ami-0b2b7fcd5341e75a9">ami-0b2b7fcd5341e75a9</a></td>
</tr>
</tbody>
</table>
<h3 id="running-from-command-line">Running from Command Line</h3>
<ol>
<li>
<p>Launch the PMM Server instance using the <code>run-instances</code> command for the corresponding region and image. For example:</p>
<div class="highlight"><pre><span></span><code>aws ec2 run-instances \
   --image-id ami-30ad0f4d \
   --security-group-ids sg-3b6e5e46 \
   --instance-type t2.micro \
   --subnet-id subnet-4765a930 \
   --region us-east-1 \
   --key-name SSH-KEYNAME
</code></pre></div>
<p><strong>NOTE</strong>: Providing the public SSH key is optional. Specify it if you want SSH access to PMM Server.</p>
</li>
<li>
<p>Set a name for the instance using the <code>create-tags</code> command. For example:</p>
<div class="highlight"><pre><span></span><code>aws ec2 create-tags  \
   --resources i-XXXX-INSTANCE-ID-XXXX \
   --region us-east-1 \
   --tags Key=Name,Value=OWNER_NAME-pmm
</code></pre></div>
</li>
<li>
<p>Get the IP address for accessing PMM Server from console output using the <code>get-console-output</code> command. For example:</p>
<div class="highlight"><pre><span></span><code>aws ec2 get-console-output \
   --instance-id i-XXXX-INSTANCE-ID-XXXX \
   --region us-east-1 \
   --output text \
   | grep cloud-init
</code></pre></div>
</li>
</ol>
<h2 id="upgrading-pmm-server">Upgrading PMM Server</h2>
<h3 id="upgrading-ec2-instance-class">Upgrading EC2 instance class</h3>
<p>Upgrading to a larger EC2 instance class is supported by PMM provided you follow the instructions from the <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-resize.html">AWS manual</a>. The PMM AMI image uses a distinct EBS volume for the PMM data volume which permits independent resize of the EC2 instance without impacting the EBS volume.</p>
<h3 id="expanding-the-pmm-data-ebs-volume">Expanding the PMM Data EBS Volume</h3>
<p>The PMM data volume is mounted as an XFS formatted volume on top of an LVM volume. There are two ways to increase this volume size:</p>
<ol>
<li>
<p>Add a new disk via EC2 console or API, and expand the LVM volume to include the new disk volume.</p>
</li>
<li>
<p>Expand existing EBS volume and grow the LVM volume.</p>
</li>
</ol>
<h4>Expand existing EBS volume</h4>
<p>To expand the existing EBS volume in order to increase capacity, the following steps should be followed.</p>
<ol>
<li>
<p>Expand the disk from AWS Console/CLI to the desired capacity.</p>
</li>
<li>
<p>Login to the PMM EC2 instance and verify that the disk capacity has increased. For example, if you have expanded disk from 100G to 200G, <code>dmesg</code> output should look like below:</p>
<div class="highlight"><pre><span></span><code>[  535.994494] xvdb: detected capacity change from 107374182400 to 214748364800
</code></pre></div>
</li>
<li>
<p>You can check information about volume groups and logical volumes with the <code>vgs</code> and <code>lvs</code> commands:</p>
<div class="highlight"><pre><span></span><code>[root@ip-10-1-2-70 ~]# vgs
 VG     #PV #LV #SN Attr   VSize   VFree
 DataVG   1   2   0 wz--n- 100.00g 0

[root@ip-10-1-2-70 ~]# lvs
 LV       VG     Attr       LSize   Pool Origin Data%  Meta% Move Log Cpy%Sync Convert
 DataLV   DataVG Vwi-aotz--  79.69g ThinPool     1.74
 ThinPool DataVG twi-aotz--  99.61g              1.39  0.43
</code></pre></div>
</li>
<li>
<p>Now we can use the <code>lsblk</code> command to see that our disk size has been identified by the kernel correctly, but LVM2 is not yet aware of the new size. We can use <code>pvresize</code> to make sure the PV device reflects the new size. Once <code>pvresize</code> is executed, we can see that the VG has the new free space available.</p>
<div class="highlight"><pre><span></span><code>[root@ip-10-1-2-70 ~]# lsblk | grep xvdb
 xvdb                      202:16 0 200G 0 disk

[root@ip-10-1-2-70 ~]# pvscan
 PV /dev/xvdb   VG DataVG    lvm2 [&lt;16.00 GiB / 0    free]
 Total: 1 [100.00 GiB] / in use: 1 [100.00 GiB] / in no VG: 0 [0   ]

[root@ip-10-1-2-70 ~]# pvresize /dev/xvdb
 Physical volume "/dev/xvdb" changed
 1 physical volume(s) resized / 0 physical volume(s) not resized

[root@ip-10-1-2-70 ~]# pvs
 PV         VG     Fmt  Attr PSize   PFree
 /dev/xvdb  DataVG lvm2 a--  199.30g 99.30g
</code></pre></div>
</li>
<li>
<p>We then extend our logical volume. Since the PMM image uses thin provisioning, we need to extend both the pool and the volume:</p>
<div class="highlight"><pre><span></span><code>[root@ip-10-1-2-70 ~]# lvs
 LV       VG     Attr       LSize   Pool     Origin Data%  Meta% Move Log Cpy%Sync Convert
 DataLV   DataVG Vwi-aotz--  79.69g ThinPool        1.77
 ThinPool DataVG twi-aotz--  99.61g                 1.42   0.43

[root@ip-10-1-2-70 ~]# lvextend /dev/mapper/DataVG-ThinPool -l 100%VG
 Size of logical volume DataVG/ThinPool_tdata changed from 99.61 GiB (25499 extents) to 198.91 GiB (50921 extents).
 Logical volume DataVG/ThinPool_tdata successfully resized.

[root@ip-10-1-2-70 ~]# lvs
 LV       VG     Attr       LSize   Pool     Origin Data%  Meta% Move Log Cpy%Sync Convert
 DataLV   DataVG Vwi-aotz--  79.69g ThinPool        1.77
 ThinPool DataVG twi-aotz-- 198.91g                 0.71   0.83
</code></pre></div>
</li>
<li>
<p>Once the pool and volumes have been extended, we need to now extend the thin volume to consume the newly available space. In this example weâve grown available space to almost 200GB, and already consumed logical volume size, so weâre extending an additional 119GB:</p>
<div class="highlight"><pre><span></span><code>[root@ip-10-1-2-70 ~]# lvs
 LV       VG     Attr       LSize   Pool     Origin Data%  Meta% Move Log Cpy%Sync Convert
 DataLV   DataVG Vwi-aotz--  79.69g ThinPool        1.77
 ThinPool DataVG twi-aotz-- 198.91g                 0.71   0.83

[root@ip-10-1-2-70 ~]# lvextend /dev/mapper/DataVG-DataLV -L +119G
 Size of logical volume DataVG/DataLV changed from 79.69 GiB (20401 extents) to 198.91 GiB (50865 extents).
 Logical volume DataVG/DataLV successfully resized.

[root@ip-10-1-2-70 ~]# lvs
 LV       VG     Attr       LSize   Pool    Origin Data%  Meta% Move Log Cpy%Sync Convert
 DataLV   DataVG Vwi-aotz-- 198.69g ThinPool        0.71
 ThinPool DataVG twi-aotz-- 198.91g                 0.71   0.83
</code></pre></div>
</li>
<li>
<p>We then expand the XFS filesystem to reflect the new size using <code>xfs_growfs</code>, and confirm the filesystem is accurate using the <code>df</code> command.</p>
<div class="highlight"><pre><span></span><code>[root@ip-10-1-2-70 ~]# df -h /srv
Filesystem                  Size Used Avail Use% Mounted on
/dev/mapper/DataVG-DataLV   100G 249M  100G   0% /srv

[root@ip-10-1-2-70 ~]# xfs_growfs /srv
meta-data=/dev/mapper/DataVG-DataLV isize=512    agcount=103, agsize=1305648 blks
         =                          sectsz=512   attr=2, projid32bit=1
         =                          crc=1        finobt=0 spinodes=0
data     =                          bsize=4096   blocks=20890368, imaxpct=25
         =                          sunit=16     swidth=16 blks
naming   =version 2                 bsize=4096   ascii-ci=0 ftype=1
log      =internal                  bsize=4096   blocks=10208, version=2
         =                          sectsz=512   sunit=16 blks, lazy-count=1
realtime =none                      extsz=4096   blocks=0, rtextents=0
data blocks changed from 20890368 to 52085760

[root@ip-10-1-2-70 ~]# df -h /srv
Filesystem                 Size Used Avail Use% Mounted on
/dev/mapper/DataVG-DataLV   32G 254M   32G   1% /srv
</code></pre></div>
</li>
</ol>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-nav">
<nav aria-label="Footer" class="md-footer-nav__inner md-grid">
<a class="md-footer-nav__link md-footer-nav__link--prev" href="ova.vmware-workstation-player.html" rel="prev">
<div class="md-footer-nav__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</div>
<div class="md-footer-nav__title">
<div class="md-ellipsis">
<span class="md-footer-nav__direction">
                  Previous
                </span>
                VMware Workstation Player
              </div>
</div>
</a>
<a class="md-footer-nav__link md-footer-nav__link--next" href="../../tool.html" rel="next">
<div class="md-footer-nav__title">
<div class="md-ellipsis">
<span class="md-footer-nav__direction">
                  Next
                </span>
                Tools of PMM
              </div>
</div>
<div class="md-footer-nav__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"></path></svg>
</div>
</a>
</nav>
</div>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
<div class="md-footer-copyright__highlight">
            Percona LLC, Â© 2020
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
          Material for MkDocs
        </a>
 ... <a class="link--pdf-download" download href="../../_pdf/PerconaMonitoringAndManagement-1.17.4.pdf" title="PDF">download PDF</a></div>
</div>
</div>
</footer>
</div>
<script src="../../assets/javascripts/vendor.0ac82a11.min.js"></script>
<script src="../../assets/javascripts/bundle.f81dfb4d.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
<script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.4ac00218.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
</body>
</html>