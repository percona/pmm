# Percona Monitoring and Management 3.4.0 

**Release date**:  September 16th

Percona Monitoring and Management (PMM) is an open source database monitoring, management, and observability solution for MySQL, PostgreSQL, and MongoDB. PMM empowers you to: 

- monitor the health and performance of your database systems
- identify patterns and trends in database behavior
- diagnose and resolve issues faster with actionable insights
- manage databases across on-premises, cloud, and hybrid environments

## Release summary

## ðŸŒŸ Release highlights

### Centralized `vmagent` settings for all clients

You can now centrally configure `vmagent` settings for all connected PMM Clients using environment variables.

Instead of configuring each client individually, set `VMAGENT_*` variables on the PMM Server to automatically apply `vmagent` settings across your entire monitoring infrastructure. 

This is particularly useful for Kubernetes environments where the default 1GB disk usage per client can overwhelm shared storage. For example, setting `VMAGENT_remoteWrite_maxDiskUsagePerURL=52428800` reduces disk usage to 50MB per client and applies to all connected clients without restarts.

For configuration options and examples, see [Configure environment variables for PMM Server](../install-pmm/install-pmm-server/deployment-options/docker/env_var.md#configure-vmagent-on-pmm-client).


### Enhanced management of RDS instances

PMM now supports tracking RDS Instance IDs when adding Amazon RDS databases to monitoring, making it easier to correlate instances between PMM and the AWS console.

When adding RDS instances via **Inventory > Add Service**, the Instance ID that you specify will now be persisted. This optional field helps you manage large RDS deployments by providing a clear reference between monitored instances in PMM and their corresponding resources in AWS. 

Behind the scenes, we added an `instance_id` column to the database and enhanced the `/v1/management/services` API endpoint to accept and return this information. Everything is backward compatible so existing RDS instances continue working normally. 

For technical details about API enhancements, see the [API Release Notes](https://percona-pmm.readme.io/v3/reference/release-notes-3-4-0).

![!New Instance ID field](../images/instance_ID.png)

## Improvements

- [PMM-13980](https://perconadev.atlassian.net/browse/PMM-13980) - Improved [Back up PMM Server Docker container](../install-pmm/install-pmm-server/deployment-options/docker/backup_container.md) documentation for all PMM Server deployment types, including `pmm-data volume` procedures essential for migrating from PMM 2 to PMM 3.
- [PMM-14194](https://perconadev.atlassian.net/browse/PMM-14194) - Custom filter groups in Query Analytics (QAN) now correctly distinguish between intentional comments and quoted strings containing comment-like characters. Previously, queries with values like `street = '123 Main St # app=something'` would incorrectly generate unwanted custom filters. Now, only genuine SQL comments such as `-- app='web', team='backend'` create filter options in the **PMM Query Analytics** dashboard sidebar. This means that you get cleaner query categorization when [comment parsing](../use/qan/panels/filters.md#custom-filter-groups) is enabled.

## Components upgrade
- [PMM-14015](https://perconadev.atlassian.net/browse/PMM-14015) - PMM now ships with Grafana 11.6.3, bringing enhanced security and improved performance.

## ðŸ›‘ Deprecations and breaking changes 

### VMware support removed  

Support for VMware-based PMM Server deployments is deprecated with this release and will be **fully removed in PMM 3.6.0 (expected January 2026).**  

PMM 3 is built on a fully containerized architecture across all platforms for stronger security, simplified upgrades, and tighter alignment with modern DevOps practices. VMwareâ€™s proprietary model and recent licensing changes no longer fit this direction, so we are focusing on open, container-native platforms instead.  

#### Recommended alternatives  

For a smoother migration and long-term support, we recommend moving to one of the following platforms:  

- **Docker/Podman** â€“ lightweight, container-native deployments designed for PMM 3  
- **Kubernetes/OpenShift** â€“ full cloud-native orchestration at scale  
- **Oracle VirtualBox** â€“ still supported for VM-style deployments, running the same containerized PMM architecture  

For detailed steps, see [Migrating PMM from VMware to alternative platforms](../pmm-upgrade/migrating_from_vmware.md).


## ðŸš€ Ready to upgrade to PMM 3.4.0?

- **New installation:** [Install PMM with our quickstart guide](../quickstart/quickstart.md)

- **Upgrading from PMM 2:** [Migrate from PMM 2 to PMM 3](../pmm-upgrade/migrating_from_pmm_2.md)

- **Upgrading PMM 3:** [Upgrade your existing PMM 3 installation](../pmm-upgrade/index.md)
