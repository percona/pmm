# Percona Monitoring and Management 3.4.0 

| **Release date** | September 9th, 2025                                                                                  |
| ----------------- | :---------------------------------------------------------------------------------------------- |
| **Installation** | [Installing Percona Monitoring and Management](../quickstart/quickstart.md) |
| **Upgrade**| [Migrate PMM 2 to PMM 3](../pmm-upgrade/migrating_from_pmm_2.md) |

Percona Monitoring and Management (PMM) is an open source database monitoring, management, and observability solution for MySQL, PostgreSQL, and MongoDB. PMM empowers you to: 

- monitor the health and performance of your database systems
- identify patterns and trends in database behavior
- diagnose and resolve issues faster with actionable insights
- manage databases across on-premises, cloud, and hybrid environments

## Release summary

## Release highlights

### Centralized `vmagent` settings for all clients

You can now centrally configure `vmagent` settings for all connected PMM Clients using environment variables.

Instead of configuring each client individually, set `VMAGENT_*` variables on the PMM Server to automatically apply `vmagent` settings across your entire monitoring infrastructure. 

This is particularly useful for Kubernetes environments where the default 1GB disk usage per client can overwhelm shared storage. For example, setting `VMAGENT_remoteWrite_maxDiskUsagePerURL=52428800` reduces disk usage to 50MB per client and applies to all connected clients without restarts.

For configuration options and examples, see [Configure environment variables for PMM Server](../install-pmm/install-pmm-server/deployment-options/docker/env_var.md#configure-vmagent-on-pmm-client).

### Support for MySQL Cleartext authentication 

PMM now supports monitoring MySQL instances that require cleartext authentication, including those using PAM authentication plugins (`auth_pam_compat`) or other external authentication methods.

When adding MySQL instances that use PAM or external authentication plugins, include the `allowCleartextPasswords=1` parameter in the DNS. For details, see [Connect MySQL databases to PMM](../install-pmm/install-pmm-client/connect-database/mysql/mysql.md#add-service-to-pmm#__tabbed_8_5).

!!! caution "Security warning"
    Cleartext authentication transmits passwords without encryption. Only use this option when the connection is secured with SSL/TLS or over a trusted network. This is typically required for authentication plugins like `auth_pam_compat` that need access to the actual password for external authentication.

### Enhanced management of RDS instances

PMM now supports tracking RDS Instance IDs when adding Amazon RDS databases to monitoring, making it easier to correlate instances between PMM and the AWS console.

When adding RDS instances via **Inventory > Add Service**, the Instance ID that you specify will now be persisted. This optional field helps you manage large RDS deployments by providing a clear reference between monitored instances in PMM and their corresponding resources in AWS. 

Behind the scenes, we added an `instance_id` column to the database and enhanced the `/v1/management/services` API endpoint to accept and return this information. Everything is backward compatible so existing RDS instances continue working normally. 

For technical details about API enhancements, see the [API Release Notes](https://percona-pmm.readme.io/v3/reference/release-notes-3-4-0).

![!New Instance ID field](../images/instance_ID.png)

## Improvements

- [PMM-13980](https://perconadev.atlassian.net/browse/PMM-13980) - Improved [Back up PMM Server Docker container](../install-pmm/install-pmm-server/deployment-options/docker/backup_container.md) documentation for all PMM Server deployment types, including `pmm-data volume` procedures essential for migrating from PMM 2 to PMM 3.
- [PMM-14194](https://perconadev.atlassian.net/browse/PMM-14194) - Custom filter groups in Query Analytics (QAN) now correctly distinguish between intentional comments and quoted strings containing comment-like characters. Previously, queries with values like `street = '123 Main St # app=something'` would incorrectly generate unwanted custom filters. Now, only genuine SQL comments such as `-- app='web', team='backend'` create filter options in the **PMM Query Analytics** dashboard sidebar. This means that you get cleaner query categorization when [comment parsing](../use/qan/panels/filters.md) is enabled.

## Components upgrade
- [PMM-14015](https://perconadev.atlassian.net/browse/PMM-14015) - PMM now ships with Grafana 11.6.3, bringing enhanced security and improved performance.

## Fixed issues


## Known issues 
