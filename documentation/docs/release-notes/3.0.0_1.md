# Percona Monitoring and Management 3.0.0-1

**Release date**: February 10th, 2025                                                                     


Percona Monitoring and Management (PMM) is an open-source database monitoring, management, and observability solution for MySQL, PostgreSQL, and MongoDB. 

It provides tools to observe database health, analyze performance trends, troubleshoot issues, and execute database management tasks—whether your databases are on-premises or in the cloud.


## SEVERITY: CRITICAL - IMMEDIATE ACTION REQUIRED

A critical vulnerability has been identified in PMM Open Virtual Appliance (OVA) installations that enables unauthorized `root` access and potential exposure of system credentials. This vulnerability is tracked as [CVE-xxxx-xxxx](https://cve.mitre.org/cgi-bin/cvename.cgi?name=xxxx-xxxx).

### Immediate actions required
Your system may be exposed to unauthorized root access and credential theft. Take the following steps immediately to secure your infrastructure:
{ .power-number }

1. UPGRADE IMMEDIATELY to PMM 3.0.0-1 (strongly recommended).
2. CHANGE ALL CREDENTIALS for connected services and databases.
3. AUDIT ACCESS LOGS for potential unauthorized access.

### Vulnerability details
This vulnerability stems from default service account credentials in OVA provisioning that enables:

 - unauthorized SSH access
 - privilege escalation to `root` via `sudo` capabilities
 - potential exposure of service credentials and configurations

### Affected installations  
The table below lists currently known affected deployments. We will update it if additional products are identified:

| Affected deployments                     | Version | Notes |
|-------------------------------------------|---------|-------|
| PMM Open Virtual Appliance (OVA) installations | ≥ 2.38  |       |

### Mitigation options  


=== "PREFERRED: Upgrade to PMM 3.0.0-1"
    This release enhances security in OVA deployments by automatically removing unnecessary system accounts during the initial setup.

    To secure your system, follow these steps to upgrade:
    { .power-number }

    1. Download and deploy the new OVA file from [Percona website](https://www.percona.com/downloads).

    2. Stop services on your current installation: 
        ```sh 
        supervisorctl stop all
        ```
    3. Back up and transfer your data:
        ```sh
        cd /home/admin/volume/srv
        tar -cvf srv.tar .
        ``` 
    4. Transfer to new server.
    5. Deploy data on the new installation:
        ```sh
        # Stop all services
        supervisorctl stop all

        # Clear existing data
        cd /home/admin/volume/srv
        rm -rf *

        # Extract backup
        tar -xvf srv.tar

        # Start all services
        supervisorctl start all
        ```
    6. Update DNS records or swap IP addresses to ensure uninterrupted Client connectivity.

    #### Verification steps

    After upgrading, verify that your system is functioning correctly:
    { .power-number }

    1. Check service status to confirm both PMM Client and PMM Server are running:
        ```sh
        supervisorctl status
        ```
    2. Ensure Client connectivity to validate data flow.

    3. Test system functionality by performing basic monitoring tasks.

=== "TEMPORARY: If you cannot upgrade immediately"
    If an upgrade is not immediately possible, follow these steps to mitigate the vulnerability:
    { .power-number }

    1. Block port 22 access.
    2. Execute ONE of these commands to secure the vulnerable account:

        - Disable login:
            ```sh
            sudo usermod -s /sbin/nologin vagrant
            ```

        - Lock account:
            ```sh
            sudo passwd -l vagrant
            ```

        - Remove user completely:
            ```sh
            sudo kill -9 $(pgrep -f vagrant)
            sudo userdel -r vagrant
            ```
    3. Change all service passwords.
    4. Monitor system logs for unauthorized access.

### Support & additional resources
If you require further clarification or assistance, we are available to assist you 24/7:

 - [Technical Support Portal](https://my.percona.com)
 - [Security advisory updates][blog address from Steve?]

### Upgrading from PMM 2.x?
If you are upgrading from PMM 2.x see the separate [PMM 2.44.0-1 release notes](https://docs.percona.com/percona-monitoring-and-management/2/release-notes/2.44.0_1.html) for specific upgrade instructions.