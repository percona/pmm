{
  "swagger": "2.0",
  "info": {
    "title": "managementpb/backup/locations.proto",
    "version": "version not set"
  },
  "tags": [
    {
      "name": "Locations"
    }
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {
    "/v1/management/backup/Locations/Add": {
      "post": {
        "summary": "AddLocation adds backup location.",
        "operationId": "AddLocation",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1AddLocationResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1AddLocationRequest"
            }
          }
        ],
        "tags": [
          "Locations"
        ]
      }
    },
    "/v1/management/backup/Locations/Change": {
      "post": {
        "summary": "ChangeLocation changes backup location.",
        "operationId": "ChangeLocation",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1ChangeLocationResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1ChangeLocationRequest"
            }
          }
        ],
        "tags": [
          "Locations"
        ]
      }
    },
    "/v1/management/backup/Locations/List": {
      "post": {
        "summary": "ListLocations returns a list of all backup locations.",
        "operationId": "ListLocations",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1ListLocationsResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1ListLocationsRequest"
            }
          }
        ],
        "tags": [
          "Locations"
        ]
      }
    },
    "/v1/management/backup/Locations/Remove": {
      "post": {
        "summary": "RemoveLocation removes existing backup location.",
        "operationId": "RemoveLocation",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1RemoveLocationResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1RemoveLocationRequest"
            }
          }
        ],
        "tags": [
          "Locations"
        ]
      }
    },
    "/v1/management/backup/Locations/TestConfig": {
      "post": {
        "summary": "TestLocationConfig tests backup location and credentials.",
        "operationId": "TestLocationConfig",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1TestLocationConfigResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1TestLocationConfigRequest"
            }
          }
        ],
        "tags": [
          "Locations"
        ]
      }
    }
  },
  "definitions": {
    "backupv1Location": {
      "type": "object",
      "properties": {
        "location_id": {
          "type": "string",
          "description": "Machine-readable ID."
        },
        "name": {
          "type": "string",
          "title": "Location name"
        },
        "description": {
          "type": "string",
          "title": "Short description"
        },
        "filesystem_config": {
          "$ref": "#/definitions/v1FilesystemLocationConfig"
        },
        "s3_config": {
          "$ref": "#/definitions/v1S3LocationConfig"
        }
      },
      "description": "Location represents single Backup Location."
    },
    "protobufAny": {
      "type": "object",
      "properties": {
        "@type": {
          "type": "string"
        }
      },
      "additionalProperties": {}
    },
    "rpcStatus": {
      "type": "object",
      "properties": {
        "code": {
          "type": "integer",
          "format": "int32"
        },
        "message": {
          "type": "string"
        },
        "details": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/protobufAny"
          }
        }
      }
    },
    "v1AddLocationRequest": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "title": "Location name"
        },
        "description": {
          "type": "string"
        },
        "filesystem_config": {
          "$ref": "#/definitions/v1FilesystemLocationConfig",
          "description": "Filesystem location configuration. Exactly one config should be set."
        },
        "s3_config": {
          "$ref": "#/definitions/v1S3LocationConfig",
          "description": "S3 Bucket configuration. Exactly one config should be set."
        }
      }
    },
    "v1AddLocationResponse": {
      "type": "object",
      "properties": {
        "location_id": {
          "type": "string",
          "description": "Machine-readable ID."
        }
      }
    },
    "v1ChangeLocationRequest": {
      "type": "object",
      "properties": {
        "location_id": {
          "type": "string",
          "description": "Machine-readable ID."
        },
        "name": {
          "type": "string",
          "title": "Location name"
        },
        "description": {
          "type": "string"
        },
        "filesystem_config": {
          "$ref": "#/definitions/v1FilesystemLocationConfig",
          "description": "Filesystem location configuration. Exactly one config should be set."
        },
        "s3_config": {
          "$ref": "#/definitions/v1S3LocationConfig",
          "description": "S3 Bucket configuration. Exactly one config should be set."
        }
      }
    },
    "v1ChangeLocationResponse": {
      "type": "object"
    },
    "v1FilesystemLocationConfig": {
      "type": "object",
      "properties": {
        "path": {
          "type": "string"
        }
      },
      "description": "FilesystemLocationConfig represents file system location config."
    },
    "v1ListLocationsRequest": {
      "type": "object"
    },
    "v1ListLocationsResponse": {
      "type": "object",
      "properties": {
        "locations": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/backupv1Location"
          }
        }
      }
    },
    "v1RemoveLocationRequest": {
      "type": "object",
      "properties": {
        "location_id": {
          "type": "string",
          "description": "Machine-readable ID."
        },
        "force": {
          "type": "boolean",
          "title": "Force mode"
        }
      }
    },
    "v1RemoveLocationResponse": {
      "type": "object"
    },
    "v1S3LocationConfig": {
      "type": "object",
      "properties": {
        "endpoint": {
          "type": "string"
        },
        "access_key": {
          "type": "string"
        },
        "secret_key": {
          "type": "string"
        },
        "bucket_name": {
          "type": "string"
        }
      },
      "description": "S3LocationConfig represents S3 bucket configuration."
    },
    "v1TestLocationConfigRequest": {
      "type": "object",
      "properties": {
        "filesystem_config": {
          "$ref": "#/definitions/v1FilesystemLocationConfig",
          "description": "Filesystem location configuration. Exactly one config should be set."
        },
        "s3_config": {
          "$ref": "#/definitions/v1S3LocationConfig",
          "description": "S3 Bucket configuration. Exactly one config should be set."
        }
      }
    },
    "v1TestLocationConfigResponse": {
      "type": "object"
    }
  }
}
