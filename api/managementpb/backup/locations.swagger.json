{
  "swagger": "2.0",
  "info": {
    "title": "managementpb/backup/locations.proto",
    "version": "version not set"
  },
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {
    "/v1/management/backup/Locations/Add": {
      "post": {
        "summary": "AddLocation adds backup location.",
        "operationId": "AddLocation",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1beta1AddLocationResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/gatewayruntimeError"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1beta1AddLocationRequest"
            }
          }
        ],
        "tags": [
          "Locations"
        ]
      }
    },
    "/v1/management/backup/Locations/Change": {
      "post": {
        "summary": "ChangeLocation changes backup location.",
        "operationId": "ChangeLocation",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1beta1ChangeLocationResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/gatewayruntimeError"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1beta1ChangeLocationRequest"
            }
          }
        ],
        "tags": [
          "Locations"
        ]
      }
    },
    "/v1/management/backup/Locations/List": {
      "post": {
        "summary": "ListLocations returns a list of all backup locations.",
        "operationId": "ListLocations",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1beta1ListLocationsResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/gatewayruntimeError"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1beta1ListLocationsRequest"
            }
          }
        ],
        "tags": [
          "Locations"
        ]
      }
    },
    "/v1/management/backup/Locations/Remove": {
      "post": {
        "summary": "RemoveLocation removes existing backup location.",
        "operationId": "RemoveLocation",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1beta1RemoveLocationResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/gatewayruntimeError"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1beta1RemoveLocationRequest"
            }
          }
        ],
        "tags": [
          "Locations"
        ]
      }
    },
    "/v1/management/backup/Locations/TestConfig": {
      "post": {
        "summary": "TestLocationConfig tests backup location and credentials.",
        "operationId": "TestLocationConfig",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1beta1TestLocationConfigResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/gatewayruntimeError"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/v1beta1TestLocationConfigRequest"
            }
          }
        ],
        "tags": [
          "Locations"
        ]
      }
    }
  },
  "definitions": {
    "backupv1beta1Location": {
      "type": "object",
      "properties": {
        "location_id": {
          "type": "string",
          "description": "Machine-readable ID."
        },
        "name": {
          "type": "string",
          "title": "Location name"
        },
        "description": {
          "type": "string",
          "title": "Short description"
        },
        "pmm_client_config": {
          "$ref": "#/definitions/v1beta1PMMClientLocationConfig"
        },
        "pmm_server_config": {
          "$ref": "#/definitions/v1beta1PMMServerLocationConfig"
        },
        "s3_config": {
          "$ref": "#/definitions/v1beta1S3LocationConfig"
        }
      },
      "description": "Location represents single Backup Location."
    },
    "gatewayruntimeError": {
      "type": "object",
      "properties": {
        "error": {
          "type": "string"
        },
        "code": {
          "type": "integer",
          "format": "int32"
        },
        "message": {
          "type": "string"
        },
        "details": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/protobufAny"
          }
        }
      }
    },
    "protobufAny": {
      "type": "object",
      "properties": {
        "type_url": {
          "type": "string"
        },
        "value": {
          "type": "string",
          "format": "byte"
        }
      }
    },
    "v1beta1AddLocationRequest": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "title": "Location name"
        },
        "description": {
          "type": "string"
        },
        "pmm_client_config": {
          "$ref": "#/definitions/v1beta1PMMClientLocationConfig",
          "description": "PMM-client file system configuration. Exactly one config should be set."
        },
        "pmm_server_config": {
          "$ref": "#/definitions/v1beta1PMMServerLocationConfig",
          "description": "PMM-server file system configuration. Exactly one config should be set."
        },
        "s3_config": {
          "$ref": "#/definitions/v1beta1S3LocationConfig",
          "description": "S3 Bucket configuration. Exactly one config should be set."
        }
      }
    },
    "v1beta1AddLocationResponse": {
      "type": "object",
      "properties": {
        "location_id": {
          "type": "string",
          "description": "Machine-readable ID."
        }
      }
    },
    "v1beta1ChangeLocationRequest": {
      "type": "object",
      "properties": {
        "location_id": {
          "type": "string",
          "description": "Machine-readable ID."
        },
        "name": {
          "type": "string",
          "title": "Location name"
        },
        "description": {
          "type": "string"
        },
        "pmm_client_config": {
          "$ref": "#/definitions/v1beta1PMMClientLocationConfig",
          "description": "PMM-client file system configuration. Exactly one config should be set."
        },
        "pmm_server_config": {
          "$ref": "#/definitions/v1beta1PMMServerLocationConfig",
          "description": "PMM-server file system configuration. Exactly one config should be set."
        },
        "s3_config": {
          "$ref": "#/definitions/v1beta1S3LocationConfig",
          "description": "S3 Bucket configuration. Exactly one config should be set."
        }
      }
    },
    "v1beta1ChangeLocationResponse": {
      "type": "object"
    },
    "v1beta1ListLocationsRequest": {
      "type": "object"
    },
    "v1beta1ListLocationsResponse": {
      "type": "object",
      "properties": {
        "locations": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/backupv1beta1Location"
          }
        }
      }
    },
    "v1beta1PMMClientLocationConfig": {
      "type": "object",
      "properties": {
        "path": {
          "type": "string"
        }
      },
      "description": "PMMClientLocationConfig represents file system config inside pmm-client."
    },
    "v1beta1PMMServerLocationConfig": {
      "type": "object",
      "properties": {
        "path": {
          "type": "string"
        }
      },
      "description": "PMMServerLocationConfig represents file system config inside pmm-server."
    },
    "v1beta1RemoveLocationRequest": {
      "type": "object",
      "properties": {
        "location_id": {
          "type": "string",
          "description": "Machine-readable ID."
        },
        "force": {
          "type": "boolean",
          "title": "Force mode"
        }
      }
    },
    "v1beta1RemoveLocationResponse": {
      "type": "object"
    },
    "v1beta1S3LocationConfig": {
      "type": "object",
      "properties": {
        "endpoint": {
          "type": "string"
        },
        "access_key": {
          "type": "string"
        },
        "secret_key": {
          "type": "string"
        },
        "bucket_name": {
          "type": "string"
        }
      },
      "description": "S3LocationConfig represents S3 bucket configuration."
    },
    "v1beta1TestLocationConfigRequest": {
      "type": "object",
      "properties": {
        "pmm_client_config": {
          "$ref": "#/definitions/v1beta1PMMClientLocationConfig",
          "description": "PMM-client file system configuration. Exactly one config should be set."
        },
        "pmm_server_config": {
          "$ref": "#/definitions/v1beta1PMMServerLocationConfig",
          "description": "PMM-server file system configuration. Exactly one config should be set."
        },
        "s3_config": {
          "$ref": "#/definitions/v1beta1S3LocationConfig",
          "description": "S3 Bucket configuration. Exactly one config should be set."
        }
      }
    },
    "v1beta1TestLocationConfigResponse": {
      "type": "object"
    }
  }
}
