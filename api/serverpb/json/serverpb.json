{
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "schemes": [
    "https",
    "http"
  ],
  "swagger": "2.0",
  "info": {
    "title": "PMM Server API",
    "version": "v1"
  },
  "paths": {
    "/logs.zip": {
      "get": {
        "description": "Returns the PMM Server logs.",
        "produces": [
          "application/zip"
        ],
        "tags": [
          "Server"
        ],
        "summary": "Logs",
        "operationId": "Logs",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "type": "file"
            }
          },
          "default": {
            "description": "An error response.",
            "schema": {
              "description": "ErrorResponse is a message returned on HTTP error.",
              "type": "object",
              "properties": {
                "code": {
                  "type": "integer",
                  "format": "int32"
                },
                "error": {
                  "type": "string"
                },
                "message": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/v1/AWSInstanceCheck": {
      "post": {
        "description": "Checks AWS EC2 instance ID.",
        "tags": [
          "Server"
        ],
        "summary": "AWS instance check",
        "operationId": "AWSInstanceCheck",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "instance_id": {
                  "description": "AWS EC2 instance ID (i-1234567890abcdef0).",
                  "type": "string",
                  "x-order": 0
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "type": "object"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "type": "object",
              "properties": {
                "code": {
                  "type": "integer",
                  "format": "int32",
                  "x-order": 0
                },
                "details": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "type_url": {
                        "type": "string",
                        "x-order": 0
                      },
                      "value": {
                        "type": "string",
                        "format": "byte",
                        "x-order": 1
                      }
                    }
                  },
                  "x-order": 2
                },
                "message": {
                  "type": "string",
                  "x-order": 1
                }
              }
            }
          }
        }
      }
    },
    "/v1/Settings/Change": {
      "post": {
        "description": "Changes PMM Server settings.",
        "tags": [
          "Server"
        ],
        "summary": "Change settings",
        "operationId": "ChangeSettings",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "alert_manager_rules": {
                  "description": "Custom alerting or recording rules.",
                  "type": "string",
                  "x-order": 10
                },
                "alert_manager_url": {
                  "description": "External AlertManager URL (e.g., https://username:password@1.2.3.4/path).",
                  "type": "string",
                  "x-order": 8
                },
                "aws_partitions": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "x-order": 7
                },
                "data_retention": {
                  "description": "A number of full days for Prometheus and QAN data retention. Should have a suffix in JSON: 2592000s, 43200m, 720h.",
                  "type": "string",
                  "x-order": 5
                },
                "disable_alerting": {
                  "description": "Disable Alerting.",
                  "type": "boolean",
                  "x-order": 15
                },
                "disable_azurediscover": {
                  "description": "Disable Azure Discover.",
                  "type": "boolean",
                  "x-order": 24
                },
                "disable_backup_management": {
                  "description": "Disable Backup Management.",
                  "type": "boolean",
                  "x-order": 26
                },
                "disable_dbaas": {
                  "description": "Disable DBaaS.",
                  "type": "boolean",
                  "x-order": 28
                },
                "disable_stt": {
                  "description": "Disable Security Threat Tool.",
                  "type": "boolean",
                  "x-order": 13
                },
                "disable_telemetry": {
                  "type": "boolean",
                  "x-order": 3
                },
                "disable_updates": {
                  "type": "boolean",
                  "x-order": 1
                },
                "email_alerting_settings": {
                  "description": "EmailAlertingSettings represents email (SMTP) configuration for Alerting.",
                  "type": "object",
                  "properties": {
                    "from": {
                      "description": "SMTP From header field.",
                      "type": "string",
                      "x-order": 0
                    },
                    "hello": {
                      "description": "Hostname to identify to the SMTP server.",
                      "type": "string",
                      "x-order": 2
                    },
                    "identity": {
                      "description": "Auth using PLAIN.",
                      "type": "string",
                      "x-order": 5
                    },
                    "password": {
                      "description": "Auth using LOGIN and PLAIN.",
                      "type": "string",
                      "x-order": 4
                    },
                    "require_tls": {
                      "description": "Require TLS.",
                      "type": "boolean",
                      "x-order": 7
                    },
                    "secret": {
                      "description": "Auth using CRAM-MD5.",
                      "type": "string",
                      "x-order": 6
                    },
                    "smarthost": {
                      "description": "SMTP host and port.",
                      "type": "string",
                      "x-order": 1
                    },
                    "username": {
                      "description": "Auth using CRAM-MD5, LOGIN and PLAIN.",
                      "type": "string",
                      "x-order": 3
                    }
                  },
                  "x-order": 16
                },
                "enable_alerting": {
                  "description": "Enable Alerting.",
                  "type": "boolean",
                  "x-order": 14
                },
                "enable_azurediscover": {
                  "description": "Enable Azure Discover.",
                  "type": "boolean",
                  "x-order": 23
                },
                "enable_backup_management": {
                  "description": "Enable Backup Management.",
                  "type": "boolean",
                  "x-order": 25
                },
                "enable_dbaas": {
                  "description": "Enable DBaaS.",
                  "type": "boolean",
                  "x-order": 27
                },
                "enable_stt": {
                  "description": "Enable Security Threat Tool.",
                  "type": "boolean",
                  "x-order": 12
                },
                "enable_telemetry": {
                  "type": "boolean",
                  "x-order": 2
                },
                "enable_updates": {
                  "type": "boolean",
                  "x-order": 0
                },
                "metrics_resolutions": {
                  "description": "MetricsResolutions represents Prometheus exporters metrics resolutions.",
                  "type": "object",
                  "properties": {
                    "hr": {
                      "description": "High resolution. Should have a suffix in JSON: 1s, 1m, 1h.",
                      "type": "string",
                      "x-order": 0
                    },
                    "lr": {
                      "description": "Low resolution. Should have a suffix in JSON: 1s, 1m, 1h.",
                      "type": "string",
                      "x-order": 2
                    },
                    "mr": {
                      "description": "Medium resolution. Should have a suffix in JSON: 1s, 1m, 1h.",
                      "type": "string",
                      "x-order": 1
                    }
                  },
                  "x-order": 4
                },
                "pmm_public_address": {
                  "description": "PMM Server public address.",
                  "type": "string",
                  "x-order": 20
                },
                "remove_alert_manager_rules": {
                  "description": "Remove custom alerting or recording rules.",
                  "type": "boolean",
                  "x-order": 11
                },
                "remove_alert_manager_url": {
                  "description": "Remove external AlertManager URL.",
                  "type": "boolean",
                  "x-order": 9
                },
                "remove_email_alerting_settings": {
                  "description": "If true, removes Alerting email (SMTP) settings.",
                  "type": "boolean",
                  "x-order": 17
                },
                "remove_pmm_public_address": {
                  "type": "boolean",
                  "x-order": 21
                },
                "remove_slack_alerting_settings": {
                  "description": "If true, removes Alerting Slack settings.",
                  "type": "boolean",
                  "x-order": 19
                },
                "slack_alerting_settings": {
                  "description": "SlackAlertingSettings represents Slack configuration for Alerting.",
                  "type": "object",
                  "properties": {
                    "url": {
                      "description": "Slack API (webhook) URL.",
                      "type": "string",
                      "x-order": 0
                    }
                  },
                  "x-order": 18
                },
                "ssh_key": {
                  "type": "string",
                  "x-order": 6
                },
                "stt_check_intervals": {
                  "description": "STTCheckIntervals represents intervals between STT checks.",
                  "type": "object",
                  "properties": {
                    "frequent_interval": {
                      "description": "Interval for frequent check runs.",
                      "type": "string",
                      "x-order": 2
                    },
                    "rare_interval": {
                      "description": "Interval for rare check runs.",
                      "type": "string",
                      "x-order": 1
                    },
                    "standard_interval": {
                      "description": "Standard check interval.",
                      "type": "string",
                      "x-order": 0
                    }
                  },
                  "x-order": 22
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "type": "object",
              "properties": {
                "settings": {
                  "description": "Settings represents PMM Server settings.",
                  "type": "object",
                  "properties": {
                    "alert_manager_rules": {
                      "description": "Custom alerting or recording rules.",
                      "type": "string",
                      "x-order": 7
                    },
                    "alert_manager_url": {
                      "description": "External AlertManager URL (e.g., https://username:password@1.2.3.4/path).",
                      "type": "string",
                      "x-order": 6
                    },
                    "alerting_enabled": {
                      "description": "True if Alerting is enabled.",
                      "type": "boolean",
                      "x-order": 11
                    },
                    "aws_partitions": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "x-order": 5
                    },
                    "azurediscover_enabled": {
                      "description": "True if Azure Discover is enabled.",
                      "type": "boolean",
                      "x-order": 17
                    },
                    "backup_management_enabled": {
                      "description": "True if Backup Management is enabled.",
                      "type": "boolean",
                      "x-order": 16
                    },
                    "connected_to_platform": {
                      "type": "boolean",
                      "title": "True if the PMM instance is connected to Platform",
                      "x-order": 18
                    },
                    "data_retention": {
                      "type": "string",
                      "x-order": 3
                    },
                    "dbaas_enabled": {
                      "description": "True if DBaaS is enabled.",
                      "type": "boolean",
                      "x-order": 10
                    },
                    "email_alerting_settings": {
                      "description": "EmailAlertingSettings represents email (SMTP) configuration for Alerting.",
                      "type": "object",
                      "properties": {
                        "from": {
                          "description": "SMTP From header field.",
                          "type": "string",
                          "x-order": 0
                        },
                        "hello": {
                          "description": "Hostname to identify to the SMTP server.",
                          "type": "string",
                          "x-order": 2
                        },
                        "identity": {
                          "description": "Auth using PLAIN.",
                          "type": "string",
                          "x-order": 5
                        },
                        "password": {
                          "description": "Auth using LOGIN and PLAIN.",
                          "type": "string",
                          "x-order": 4
                        },
                        "require_tls": {
                          "description": "Require TLS.",
                          "type": "boolean",
                          "x-order": 7
                        },
                        "secret": {
                          "description": "Auth using CRAM-MD5.",
                          "type": "string",
                          "x-order": 6
                        },
                        "smarthost": {
                          "description": "SMTP host and port.",
                          "type": "string",
                          "x-order": 1
                        },
                        "username": {
                          "description": "Auth using CRAM-MD5, LOGIN and PLAIN.",
                          "type": "string",
                          "x-order": 3
                        }
                      },
                      "x-order": 12
                    },
                    "metrics_resolutions": {
                      "description": "MetricsResolutions represents Prometheus exporters metrics resolutions.",
                      "type": "object",
                      "properties": {
                        "hr": {
                          "description": "High resolution. Should have a suffix in JSON: 1s, 1m, 1h.",
                          "type": "string",
                          "x-order": 0
                        },
                        "lr": {
                          "description": "Low resolution. Should have a suffix in JSON: 1s, 1m, 1h.",
                          "type": "string",
                          "x-order": 2
                        },
                        "mr": {
                          "description": "Medium resolution. Should have a suffix in JSON: 1s, 1m, 1h.",
                          "type": "string",
                          "x-order": 1
                        }
                      },
                      "x-order": 2
                    },
                    "platform_email": {
                      "description": "Percona Platform user's email, if this PMM instance is linked to the Platform.",
                      "type": "string",
                      "x-order": 9
                    },
                    "pmm_public_address": {
                      "description": "PMM Server public address.",
                      "type": "string",
                      "x-order": 14
                    },
                    "slack_alerting_settings": {
                      "description": "SlackAlertingSettings represents Slack configuration for Alerting.",
                      "type": "object",
                      "properties": {
                        "url": {
                          "description": "Slack API (webhook) URL.",
                          "type": "string",
                          "x-order": 0
                        }
                      },
                      "x-order": 13
                    },
                    "ssh_key": {
                      "type": "string",
                      "x-order": 4
                    },
                    "stt_check_intervals": {
                      "description": "STTCheckIntervals represents intervals between STT checks.",
                      "type": "object",
                      "properties": {
                        "frequent_interval": {
                          "description": "Interval for frequent check runs.",
                          "type": "string",
                          "x-order": 2
                        },
                        "rare_interval": {
                          "description": "Interval for rare check runs.",
                          "type": "string",
                          "x-order": 1
                        },
                        "standard_interval": {
                          "description": "Standard check interval.",
                          "type": "string",
                          "x-order": 0
                        }
                      },
                      "x-order": 15
                    },
                    "stt_enabled": {
                      "description": "True if Security Threat Tool is enabled.",
                      "type": "boolean",
                      "x-order": 8
                    },
                    "telemetry_enabled": {
                      "description": "True if telemetry is enabled.",
                      "type": "boolean",
                      "x-order": 1
                    },
                    "updates_disabled": {
                      "description": "True if updates are disabled.",
                      "type": "boolean",
                      "x-order": 0
                    }
                  },
                  "x-order": 0
                }
              }
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "type": "object",
              "properties": {
                "code": {
                  "type": "integer",
                  "format": "int32",
                  "x-order": 0
                },
                "details": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "type_url": {
                        "type": "string",
                        "x-order": 0
                      },
                      "value": {
                        "type": "string",
                        "format": "byte",
                        "x-order": 1
                      }
                    }
                  },
                  "x-order": 2
                },
                "message": {
                  "type": "string",
                  "x-order": 1
                }
              }
            }
          }
        }
      }
    },
    "/v1/Settings/Get": {
      "post": {
        "description": "Returns current PMM Server settings.",
        "tags": [
          "Server"
        ],
        "summary": "Get settings",
        "operationId": "GetSettings",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "type": "object",
              "properties": {
                "settings": {
                  "description": "Settings represents PMM Server settings.",
                  "type": "object",
                  "properties": {
                    "alert_manager_rules": {
                      "description": "Custom alerting or recording rules.",
                      "type": "string",
                      "x-order": 7
                    },
                    "alert_manager_url": {
                      "description": "External AlertManager URL (e.g., https://username:password@1.2.3.4/path).",
                      "type": "string",
                      "x-order": 6
                    },
                    "alerting_enabled": {
                      "description": "True if Alerting is enabled.",
                      "type": "boolean",
                      "x-order": 11
                    },
                    "aws_partitions": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "x-order": 5
                    },
                    "azurediscover_enabled": {
                      "description": "True if Azure Discover is enabled.",
                      "type": "boolean",
                      "x-order": 17
                    },
                    "backup_management_enabled": {
                      "description": "True if Backup Management is enabled.",
                      "type": "boolean",
                      "x-order": 16
                    },
                    "connected_to_platform": {
                      "type": "boolean",
                      "title": "True if the PMM instance is connected to Platform",
                      "x-order": 18
                    },
                    "data_retention": {
                      "type": "string",
                      "x-order": 3
                    },
                    "dbaas_enabled": {
                      "description": "True if DBaaS is enabled.",
                      "type": "boolean",
                      "x-order": 10
                    },
                    "email_alerting_settings": {
                      "description": "EmailAlertingSettings represents email (SMTP) configuration for Alerting.",
                      "type": "object",
                      "properties": {
                        "from": {
                          "description": "SMTP From header field.",
                          "type": "string",
                          "x-order": 0
                        },
                        "hello": {
                          "description": "Hostname to identify to the SMTP server.",
                          "type": "string",
                          "x-order": 2
                        },
                        "identity": {
                          "description": "Auth using PLAIN.",
                          "type": "string",
                          "x-order": 5
                        },
                        "password": {
                          "description": "Auth using LOGIN and PLAIN.",
                          "type": "string",
                          "x-order": 4
                        },
                        "require_tls": {
                          "description": "Require TLS.",
                          "type": "boolean",
                          "x-order": 7
                        },
                        "secret": {
                          "description": "Auth using CRAM-MD5.",
                          "type": "string",
                          "x-order": 6
                        },
                        "smarthost": {
                          "description": "SMTP host and port.",
                          "type": "string",
                          "x-order": 1
                        },
                        "username": {
                          "description": "Auth using CRAM-MD5, LOGIN and PLAIN.",
                          "type": "string",
                          "x-order": 3
                        }
                      },
                      "x-order": 12
                    },
                    "metrics_resolutions": {
                      "description": "MetricsResolutions represents Prometheus exporters metrics resolutions.",
                      "type": "object",
                      "properties": {
                        "hr": {
                          "description": "High resolution. Should have a suffix in JSON: 1s, 1m, 1h.",
                          "type": "string",
                          "x-order": 0
                        },
                        "lr": {
                          "description": "Low resolution. Should have a suffix in JSON: 1s, 1m, 1h.",
                          "type": "string",
                          "x-order": 2
                        },
                        "mr": {
                          "description": "Medium resolution. Should have a suffix in JSON: 1s, 1m, 1h.",
                          "type": "string",
                          "x-order": 1
                        }
                      },
                      "x-order": 2
                    },
                    "platform_email": {
                      "description": "Percona Platform user's email, if this PMM instance is linked to the Platform.",
                      "type": "string",
                      "x-order": 9
                    },
                    "pmm_public_address": {
                      "description": "PMM Server public address.",
                      "type": "string",
                      "x-order": 14
                    },
                    "slack_alerting_settings": {
                      "description": "SlackAlertingSettings represents Slack configuration for Alerting.",
                      "type": "object",
                      "properties": {
                        "url": {
                          "description": "Slack API (webhook) URL.",
                          "type": "string",
                          "x-order": 0
                        }
                      },
                      "x-order": 13
                    },
                    "ssh_key": {
                      "type": "string",
                      "x-order": 4
                    },
                    "stt_check_intervals": {
                      "description": "STTCheckIntervals represents intervals between STT checks.",
                      "type": "object",
                      "properties": {
                        "frequent_interval": {
                          "description": "Interval for frequent check runs.",
                          "type": "string",
                          "x-order": 2
                        },
                        "rare_interval": {
                          "description": "Interval for rare check runs.",
                          "type": "string",
                          "x-order": 1
                        },
                        "standard_interval": {
                          "description": "Standard check interval.",
                          "type": "string",
                          "x-order": 0
                        }
                      },
                      "x-order": 15
                    },
                    "stt_enabled": {
                      "description": "True if Security Threat Tool is enabled.",
                      "type": "boolean",
                      "x-order": 8
                    },
                    "telemetry_enabled": {
                      "description": "True if telemetry is enabled.",
                      "type": "boolean",
                      "x-order": 1
                    },
                    "updates_disabled": {
                      "description": "True if updates are disabled.",
                      "type": "boolean",
                      "x-order": 0
                    }
                  },
                  "x-order": 0
                }
              }
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "type": "object",
              "properties": {
                "code": {
                  "type": "integer",
                  "format": "int32",
                  "x-order": 0
                },
                "details": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "type_url": {
                        "type": "string",
                        "x-order": 0
                      },
                      "value": {
                        "type": "string",
                        "format": "byte",
                        "x-order": 1
                      }
                    }
                  },
                  "x-order": 2
                },
                "message": {
                  "type": "string",
                  "x-order": 1
                }
              }
            }
          }
        }
      }
    },
    "/v1/Settings/TestEmailAlertingSettings": {
      "post": {
        "description": "Sends test email to check current SMTP settings for email alerting.",
        "tags": [
          "Server"
        ],
        "summary": "Test email alerting",
        "operationId": "TestEmailAlertingSettings",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "email_alerting_settings": {
                  "description": "EmailAlertingSettings represents email (SMTP) configuration for Alerting.",
                  "type": "object",
                  "properties": {
                    "from": {
                      "description": "SMTP From header field.",
                      "type": "string",
                      "x-order": 0
                    },
                    "hello": {
                      "description": "Hostname to identify to the SMTP server.",
                      "type": "string",
                      "x-order": 2
                    },
                    "identity": {
                      "description": "Auth using PLAIN.",
                      "type": "string",
                      "x-order": 5
                    },
                    "password": {
                      "description": "Auth using LOGIN and PLAIN.",
                      "type": "string",
                      "x-order": 4
                    },
                    "require_tls": {
                      "description": "Require TLS.",
                      "type": "boolean",
                      "x-order": 7
                    },
                    "secret": {
                      "description": "Auth using CRAM-MD5.",
                      "type": "string",
                      "x-order": 6
                    },
                    "smarthost": {
                      "description": "SMTP host and port.",
                      "type": "string",
                      "x-order": 1
                    },
                    "username": {
                      "description": "Auth using CRAM-MD5, LOGIN and PLAIN.",
                      "type": "string",
                      "x-order": 3
                    }
                  },
                  "x-order": 0
                },
                "email_to": {
                  "description": "Target email address to send the email to.",
                  "type": "string",
                  "x-order": 1
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "type": "object"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "type": "object",
              "properties": {
                "code": {
                  "type": "integer",
                  "format": "int32",
                  "x-order": 0
                },
                "details": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "type_url": {
                        "type": "string",
                        "x-order": 0
                      },
                      "value": {
                        "type": "string",
                        "format": "byte",
                        "x-order": 1
                      }
                    }
                  },
                  "x-order": 2
                },
                "message": {
                  "type": "string",
                  "x-order": 1
                }
              }
            }
          }
        }
      }
    },
    "/v1/Updates/Check": {
      "post": {
        "description": "Checks for available PMM Server updates.",
        "tags": [
          "Server"
        ],
        "summary": "Check updates",
        "operationId": "CheckUpdates",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "force": {
                  "description": "If false, cached information may be returned.",
                  "type": "boolean",
                  "x-order": 0
                },
                "only_installed_version": {
                  "description": "If true, only installed version will be in response.",
                  "type": "boolean",
                  "x-order": 1
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "type": "object",
              "properties": {
                "installed": {
                  "description": "VersionInfo describes component version, or PMM Server as a whole.",
                  "type": "object",
                  "properties": {
                    "full_version": {
                      "description": "Full version for debugging.",
                      "type": "string",
                      "x-order": 1
                    },
                    "timestamp": {
                      "description": "Build or release date.",
                      "type": "string",
                      "format": "date-time",
                      "x-order": 2
                    },
                    "version": {
                      "description": "User-visible version.",
                      "type": "string",
                      "x-order": 0
                    }
                  },
                  "x-order": 0
                },
                "last_check": {
                  "description": "Last check time.",
                  "type": "string",
                  "format": "date-time",
                  "x-order": 4
                },
                "latest": {
                  "description": "VersionInfo describes component version, or PMM Server as a whole.",
                  "type": "object",
                  "properties": {
                    "full_version": {
                      "description": "Full version for debugging.",
                      "type": "string",
                      "x-order": 1
                    },
                    "timestamp": {
                      "description": "Build or release date.",
                      "type": "string",
                      "format": "date-time",
                      "x-order": 2
                    },
                    "version": {
                      "description": "User-visible version.",
                      "type": "string",
                      "x-order": 0
                    }
                  },
                  "x-order": 1
                },
                "latest_news_url": {
                  "description": "Latest available PMM Server release announcement URL.",
                  "type": "string",
                  "x-order": 3
                },
                "update_available": {
                  "description": "True if there is a PMM Server update available.",
                  "type": "boolean",
                  "x-order": 2
                }
              }
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "type": "object",
              "properties": {
                "code": {
                  "type": "integer",
                  "format": "int32",
                  "x-order": 0
                },
                "details": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "type_url": {
                        "type": "string",
                        "x-order": 0
                      },
                      "value": {
                        "type": "string",
                        "format": "byte",
                        "x-order": 1
                      }
                    }
                  },
                  "x-order": 2
                },
                "message": {
                  "type": "string",
                  "x-order": 1
                }
              }
            }
          }
        }
      }
    },
    "/v1/Updates/Start": {
      "post": {
        "description": "Starts PMM Server update.",
        "tags": [
          "Server"
        ],
        "summary": "Start update",
        "operationId": "StartUpdate",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "type": "object",
              "properties": {
                "auth_token": {
                  "description": "Authentication token for getting update statuses.",
                  "type": "string",
                  "x-order": 0
                },
                "log_offset": {
                  "description": "Progress log offset.",
                  "type": "integer",
                  "format": "int64",
                  "x-order": 1
                }
              }
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "type": "object",
              "properties": {
                "code": {
                  "type": "integer",
                  "format": "int32",
                  "x-order": 0
                },
                "details": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "type_url": {
                        "type": "string",
                        "x-order": 0
                      },
                      "value": {
                        "type": "string",
                        "format": "byte",
                        "x-order": 1
                      }
                    }
                  },
                  "x-order": 2
                },
                "message": {
                  "type": "string",
                  "x-order": 1
                }
              }
            }
          }
        }
      }
    },
    "/v1/Updates/Status": {
      "post": {
        "description": "Returns PMM Server update status.",
        "tags": [
          "Server"
        ],
        "summary": "Update status",
        "operationId": "UpdateStatus",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "auth_token": {
                  "description": "Authentication token.",
                  "type": "string",
                  "x-order": 0
                },
                "log_offset": {
                  "description": "Progress log offset.",
                  "type": "integer",
                  "format": "int64",
                  "x-order": 1
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "type": "object",
              "properties": {
                "done": {
                  "description": "True when update is done.",
                  "type": "boolean",
                  "x-order": 2
                },
                "log_lines": {
                  "description": "Progress log lines.",
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "x-order": 0
                },
                "log_offset": {
                  "description": "Progress log offset for the next request.",
                  "type": "integer",
                  "format": "int64",
                  "x-order": 1
                }
              }
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "type": "object",
              "properties": {
                "code": {
                  "type": "integer",
                  "format": "int32",
                  "x-order": 0
                },
                "details": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "type_url": {
                        "type": "string",
                        "x-order": 0
                      },
                      "value": {
                        "type": "string",
                        "format": "byte",
                        "x-order": 1
                      }
                    }
                  },
                  "x-order": 2
                },
                "message": {
                  "type": "string",
                  "x-order": 1
                }
              }
            }
          }
        }
      }
    },
    "/v1/readyz": {
      "get": {
        "description": "Returns an error when Server components being restarted are not ready yet. Use this API for checking the health of Docker containers and for probing Kubernetes readiness.",
        "tags": [
          "Server"
        ],
        "summary": "Check server readiness",
        "operationId": "Readiness",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "type": "object"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "type": "object",
              "properties": {
                "code": {
                  "type": "integer",
                  "format": "int32",
                  "x-order": 0
                },
                "details": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "type_url": {
                        "type": "string",
                        "x-order": 0
                      },
                      "value": {
                        "type": "string",
                        "format": "byte",
                        "x-order": 1
                      }
                    }
                  },
                  "x-order": 2
                },
                "message": {
                  "type": "string",
                  "x-order": 1
                }
              }
            }
          }
        }
      }
    },
    "/v1/version": {
      "get": {
        "description": "Returns PMM Server versions.",
        "tags": [
          "Server"
        ],
        "summary": "Version",
        "operationId": "Version",
        "parameters": [
          {
            "type": "string",
            "description": "Dummy parameter for internal testing. Do not use.",
            "name": "dummy",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "type": "object",
              "properties": {
                "distribution_method": {
                  "description": "DistributionMethod defines PMM Server distribution method: Docker image, OVF/OVA, or AMI.",
                  "type": "string",
                  "default": "DISTRIBUTION_METHOD_INVALID",
                  "enum": [
                    "DISTRIBUTION_METHOD_INVALID",
                    "DOCKER",
                    "OVF",
                    "AMI",
                    "AZURE",
                    "DO"
                  ],
                  "x-order": 3
                },
                "managed": {
                  "description": "VersionInfo describes component version, or PMM Server as a whole.",
                  "type": "object",
                  "properties": {
                    "full_version": {
                      "description": "Full version for debugging.",
                      "type": "string",
                      "x-order": 1
                    },
                    "timestamp": {
                      "description": "Build or release date.",
                      "type": "string",
                      "format": "date-time",
                      "x-order": 2
                    },
                    "version": {
                      "description": "User-visible version.",
                      "type": "string",
                      "x-order": 0
                    }
                  },
                  "x-order": 2
                },
                "server": {
                  "description": "VersionInfo describes component version, or PMM Server as a whole.",
                  "type": "object",
                  "properties": {
                    "full_version": {
                      "description": "Full version for debugging.",
                      "type": "string",
                      "x-order": 1
                    },
                    "timestamp": {
                      "description": "Build or release date.",
                      "type": "string",
                      "format": "date-time",
                      "x-order": 2
                    },
                    "version": {
                      "description": "User-visible version.",
                      "type": "string",
                      "x-order": 0
                    }
                  },
                  "x-order": 1
                },
                "version": {
                  "description": "PMM Server version.",
                  "type": "string",
                  "x-order": 0
                }
              }
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "type": "object",
              "properties": {
                "code": {
                  "type": "integer",
                  "format": "int32",
                  "x-order": 0
                },
                "details": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "type_url": {
                        "type": "string",
                        "x-order": 0
                      },
                      "value": {
                        "type": "string",
                        "format": "byte",
                        "x-order": 1
                      }
                    }
                  },
                  "x-order": 2
                },
                "message": {
                  "type": "string",
                  "x-order": 1
                }
              }
            }
          }
        }
      }
    }
  },
  "tags": [
    {
      "name": "Server"
    }
  ]
}