// Code generated by protoc-gen-go. DO NOT EDIT.
// versions:
// 	protoc-gen-go v1.36.10
// 	protoc        (unknown)
// source: serverpb/forwarding.proto

package serverpb

import (
	reflect "reflect"
	sync "sync"
	unsafe "unsafe"

	protoreflect "google.golang.org/protobuf/reflect/protoreflect"
	protoimpl "google.golang.org/protobuf/runtime/protoimpl"
	_ "google.golang.org/protobuf/types/known/anypb"
	durationpb "google.golang.org/protobuf/types/known/durationpb"
	timestamppb "google.golang.org/protobuf/types/known/timestamppb"

	v1 "github.com/percona/pmm/api/agent/v1"
)

const (
	// Verify that this generated code is sufficiently up-to-date.
	_ = protoimpl.EnforceVersion(20 - protoimpl.MinVersion)
	// Verify that runtime/protoimpl is sufficiently up-to-date.
	_ = protoimpl.EnforceVersion(protoimpl.MaxVersion - 20)
)

// ForwardRequestRequest contains any agent request to be forwarded.
// Works for actions, state updates, jobs, connection checks, etc.
type ForwardRequestRequest struct {
	state protoimpl.MessageState `protogen:"open.v1"`
	// Agent ID to send the request to.
	AgentId string `protobuf:"bytes,1,opt,name=agent_id,json=agentId,proto3" json:"agent_id,omitempty"`
	// Source server ID that initiated the forwarding (loop prevention).
	ForwardedBy string `protobuf:"bytes,2,opt,name=forwarded_by,json=forwardedBy,proto3" json:"forwarded_by,omitempty"`
	// Original server message to be sent to the agent.
	// Uses the standard pmm-agent protocol with built-in versioning and type safety.
	Message *v1.ServerMessage `protobuf:"bytes,3,opt,name=message,proto3" json:"message,omitempty"`
	// Protocol version for future compatibility.
	ProtocolVersion int32 `protobuf:"varint,4,opt,name=protocol_version,json=protocolVersion,proto3" json:"protocol_version,omitempty"`
	// Request ID for correlation and tracing.
	RequestId string `protobuf:"bytes,5,opt,name=request_id,json=requestId,proto3" json:"request_id,omitempty"`
	// Original request timeout.
	Timeout       *durationpb.Duration `protobuf:"bytes,6,opt,name=timeout,proto3" json:"timeout,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *ForwardRequestRequest) Reset() {
	*x = ForwardRequestRequest{}
	mi := &file_serverpb_forwarding_proto_msgTypes[0]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *ForwardRequestRequest) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*ForwardRequestRequest) ProtoMessage() {}

func (x *ForwardRequestRequest) ProtoReflect() protoreflect.Message {
	mi := &file_serverpb_forwarding_proto_msgTypes[0]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use ForwardRequestRequest.ProtoReflect.Descriptor instead.
func (*ForwardRequestRequest) Descriptor() ([]byte, []int) {
	return file_serverpb_forwarding_proto_rawDescGZIP(), []int{0}
}

func (x *ForwardRequestRequest) GetAgentId() string {
	if x != nil {
		return x.AgentId
	}
	return ""
}

func (x *ForwardRequestRequest) GetForwardedBy() string {
	if x != nil {
		return x.ForwardedBy
	}
	return ""
}

func (x *ForwardRequestRequest) GetMessage() *v1.ServerMessage {
	if x != nil {
		return x.Message
	}
	return nil
}

func (x *ForwardRequestRequest) GetProtocolVersion() int32 {
	if x != nil {
		return x.ProtocolVersion
	}
	return 0
}

func (x *ForwardRequestRequest) GetRequestId() string {
	if x != nil {
		return x.RequestId
	}
	return ""
}

func (x *ForwardRequestRequest) GetTimeout() *durationpb.Duration {
	if x != nil {
		return x.Timeout
	}
	return nil
}

// ForwardRequestResponse contains the response from the forwarded request.
type ForwardRequestResponse struct {
	state protoimpl.MessageState `protogen:"open.v1"`
	// Response from the agent using standard pmm-agent protocol.
	Message *v1.AgentMessage `protobuf:"bytes,1,opt,name=message,proto3" json:"message,omitempty"`
	// Error message if the forwarding failed (network error, agent not found, etc).
	// If set, the message field may be empty.
	Error string `protobuf:"bytes,2,opt,name=error,proto3" json:"error,omitempty"`
	// Server ID that processed the request.
	ProcessedBy   string `protobuf:"bytes,3,opt,name=processed_by,json=processedBy,proto3" json:"processed_by,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *ForwardRequestResponse) Reset() {
	*x = ForwardRequestResponse{}
	mi := &file_serverpb_forwarding_proto_msgTypes[1]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *ForwardRequestResponse) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*ForwardRequestResponse) ProtoMessage() {}

func (x *ForwardRequestResponse) ProtoReflect() protoreflect.Message {
	mi := &file_serverpb_forwarding_proto_msgTypes[1]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use ForwardRequestResponse.ProtoReflect.Descriptor instead.
func (*ForwardRequestResponse) Descriptor() ([]byte, []int) {
	return file_serverpb_forwarding_proto_rawDescGZIP(), []int{1}
}

func (x *ForwardRequestResponse) GetMessage() *v1.AgentMessage {
	if x != nil {
		return x.Message
	}
	return nil
}

func (x *ForwardRequestResponse) GetError() string {
	if x != nil {
		return x.Error
	}
	return ""
}

func (x *ForwardRequestResponse) GetProcessedBy() string {
	if x != nil {
		return x.ProcessedBy
	}
	return ""
}

// FullStateSyncRequest requests full agent location state from another server.
type FullStateSyncRequest struct {
	state protoimpl.MessageState `protogen:"open.v1"`
	// Requesting server ID.
	RequesterServerId string `protobuf:"bytes,1,opt,name=requester_server_id,json=requesterServerId,proto3" json:"requester_server_id,omitempty"`
	unknownFields     protoimpl.UnknownFields
	sizeCache         protoimpl.SizeCache
}

func (x *FullStateSyncRequest) Reset() {
	*x = FullStateSyncRequest{}
	mi := &file_serverpb_forwarding_proto_msgTypes[2]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *FullStateSyncRequest) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*FullStateSyncRequest) ProtoMessage() {}

func (x *FullStateSyncRequest) ProtoReflect() protoreflect.Message {
	mi := &file_serverpb_forwarding_proto_msgTypes[2]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use FullStateSyncRequest.ProtoReflect.Descriptor instead.
func (*FullStateSyncRequest) Descriptor() ([]byte, []int) {
	return file_serverpb_forwarding_proto_rawDescGZIP(), []int{2}
}

func (x *FullStateSyncRequest) GetRequesterServerId() string {
	if x != nil {
		return x.RequesterServerId
	}
	return ""
}

// FullStateSyncResponse contains full agent location state.
type FullStateSyncResponse struct {
	state protoimpl.MessageState `protogen:"open.v1"`
	// Map of agent_id -> server_id showing where each agent is connected.
	AgentLocations map[string]string `protobuf:"bytes,1,rep,name=agent_locations,json=agentLocations,proto3" json:"agent_locations,omitempty" protobuf_key:"bytes,1,opt,name=key" protobuf_val:"bytes,2,opt,name=value"`
	// Timestamp of this state snapshot.
	Timestamp *timestamppb.Timestamp `protobuf:"bytes,2,opt,name=timestamp,proto3" json:"timestamp,omitempty"`
	// Total number of agents in the map.
	AgentCount    int32 `protobuf:"varint,3,opt,name=agent_count,json=agentCount,proto3" json:"agent_count,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *FullStateSyncResponse) Reset() {
	*x = FullStateSyncResponse{}
	mi := &file_serverpb_forwarding_proto_msgTypes[3]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *FullStateSyncResponse) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*FullStateSyncResponse) ProtoMessage() {}

func (x *FullStateSyncResponse) ProtoReflect() protoreflect.Message {
	mi := &file_serverpb_forwarding_proto_msgTypes[3]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use FullStateSyncResponse.ProtoReflect.Descriptor instead.
func (*FullStateSyncResponse) Descriptor() ([]byte, []int) {
	return file_serverpb_forwarding_proto_rawDescGZIP(), []int{3}
}

func (x *FullStateSyncResponse) GetAgentLocations() map[string]string {
	if x != nil {
		return x.AgentLocations
	}
	return nil
}

func (x *FullStateSyncResponse) GetTimestamp() *timestamppb.Timestamp {
	if x != nil {
		return x.Timestamp
	}
	return nil
}

func (x *FullStateSyncResponse) GetAgentCount() int32 {
	if x != nil {
		return x.AgentCount
	}
	return 0
}

var File_serverpb_forwarding_proto protoreflect.FileDescriptor

const file_serverpb_forwarding_proto_rawDesc = "" +
	"\n" +
	"\x19serverpb/forwarding.proto\x12\bserverpb\x1a\x14agent/v1/agent.proto\x1a\x19google/protobuf/any.proto\x1a\x1egoogle/protobuf/duration.proto\x1a\x1fgoogle/protobuf/timestamp.proto\"\x87\x02\n" +
	"\x15ForwardRequestRequest\x12\x19\n" +
	"\bagent_id\x18\x01 \x01(\tR\aagentId\x12!\n" +
	"\fforwarded_by\x18\x02 \x01(\tR\vforwardedBy\x121\n" +
	"\amessage\x18\x03 \x01(\v2\x17.agent.v1.ServerMessageR\amessage\x12)\n" +
	"\x10protocol_version\x18\x04 \x01(\x05R\x0fprotocolVersion\x12\x1d\n" +
	"\n" +
	"request_id\x18\x05 \x01(\tR\trequestId\x123\n" +
	"\atimeout\x18\x06 \x01(\v2\x19.google.protobuf.DurationR\atimeout\"\x83\x01\n" +
	"\x16ForwardRequestResponse\x120\n" +
	"\amessage\x18\x01 \x01(\v2\x16.agent.v1.AgentMessageR\amessage\x12\x14\n" +
	"\x05error\x18\x02 \x01(\tR\x05error\x12!\n" +
	"\fprocessed_by\x18\x03 \x01(\tR\vprocessedBy\"F\n" +
	"\x14FullStateSyncRequest\x12.\n" +
	"\x13requester_server_id\x18\x01 \x01(\tR\x11requesterServerId\"\x93\x02\n" +
	"\x15FullStateSyncResponse\x12\\\n" +
	"\x0fagent_locations\x18\x01 \x03(\v23.serverpb.FullStateSyncResponse.AgentLocationsEntryR\x0eagentLocations\x128\n" +
	"\ttimestamp\x18\x02 \x01(\v2\x1a.google.protobuf.TimestampR\ttimestamp\x12\x1f\n" +
	"\vagent_count\x18\x03 \x01(\x05R\n" +
	"agentCount\x1aA\n" +
	"\x13AgentLocationsEntry\x12\x10\n" +
	"\x03key\x18\x01 \x01(\tR\x03key\x12\x14\n" +
	"\x05value\x18\x02 \x01(\tR\x05value:\x028\x012\xbd\x01\n" +
	"\x0fAgentForwarding\x12S\n" +
	"\x0eForwardRequest\x12\x1f.serverpb.ForwardRequestRequest\x1a .serverpb.ForwardRequestResponse\x12U\n" +
	"\x12SyncFullAgentState\x12\x1e.serverpb.FullStateSyncRequest\x1a\x1f.serverpb.FullStateSyncResponseB\x84\x01\n" +
	"\fcom.serverpbB\x0fForwardingProtoP\x01Z#github.com/percona/pmm/api/serverpb\xa2\x02\x03SXX\xaa\x02\bServerpb\xca\x02\bServerpb\xe2\x02\x14Serverpb\\GPBMetadata\xea\x02\bServerpbb\x06proto3"

var (
	file_serverpb_forwarding_proto_rawDescOnce sync.Once
	file_serverpb_forwarding_proto_rawDescData []byte
)

func file_serverpb_forwarding_proto_rawDescGZIP() []byte {
	file_serverpb_forwarding_proto_rawDescOnce.Do(func() {
		file_serverpb_forwarding_proto_rawDescData = protoimpl.X.CompressGZIP(unsafe.Slice(unsafe.StringData(file_serverpb_forwarding_proto_rawDesc), len(file_serverpb_forwarding_proto_rawDesc)))
	})
	return file_serverpb_forwarding_proto_rawDescData
}

var (
	file_serverpb_forwarding_proto_msgTypes = make([]protoimpl.MessageInfo, 5)
	file_serverpb_forwarding_proto_goTypes  = []any{
		(*ForwardRequestRequest)(nil),  // 0: serverpb.ForwardRequestRequest
		(*ForwardRequestResponse)(nil), // 1: serverpb.ForwardRequestResponse
		(*FullStateSyncRequest)(nil),   // 2: serverpb.FullStateSyncRequest
		(*FullStateSyncResponse)(nil),  // 3: serverpb.FullStateSyncResponse
		nil,                            // 4: serverpb.FullStateSyncResponse.AgentLocationsEntry
		(*v1.ServerMessage)(nil),       // 5: agent.v1.ServerMessage
		(*durationpb.Duration)(nil),    // 6: google.protobuf.Duration
		(*v1.AgentMessage)(nil),        // 7: agent.v1.AgentMessage
		(*timestamppb.Timestamp)(nil),  // 8: google.protobuf.Timestamp
	}
)

var file_serverpb_forwarding_proto_depIdxs = []int32{
	5, // 0: serverpb.ForwardRequestRequest.message:type_name -> agent.v1.ServerMessage
	6, // 1: serverpb.ForwardRequestRequest.timeout:type_name -> google.protobuf.Duration
	7, // 2: serverpb.ForwardRequestResponse.message:type_name -> agent.v1.AgentMessage
	4, // 3: serverpb.FullStateSyncResponse.agent_locations:type_name -> serverpb.FullStateSyncResponse.AgentLocationsEntry
	8, // 4: serverpb.FullStateSyncResponse.timestamp:type_name -> google.protobuf.Timestamp
	0, // 5: serverpb.AgentForwarding.ForwardRequest:input_type -> serverpb.ForwardRequestRequest
	2, // 6: serverpb.AgentForwarding.SyncFullAgentState:input_type -> serverpb.FullStateSyncRequest
	1, // 7: serverpb.AgentForwarding.ForwardRequest:output_type -> serverpb.ForwardRequestResponse
	3, // 8: serverpb.AgentForwarding.SyncFullAgentState:output_type -> serverpb.FullStateSyncResponse
	7, // [7:9] is the sub-list for method output_type
	5, // [5:7] is the sub-list for method input_type
	5, // [5:5] is the sub-list for extension type_name
	5, // [5:5] is the sub-list for extension extendee
	0, // [0:5] is the sub-list for field type_name
}

func init() { file_serverpb_forwarding_proto_init() }
func file_serverpb_forwarding_proto_init() {
	if File_serverpb_forwarding_proto != nil {
		return
	}
	type x struct{}
	out := protoimpl.TypeBuilder{
		File: protoimpl.DescBuilder{
			GoPackagePath: reflect.TypeOf(x{}).PkgPath(),
			RawDescriptor: unsafe.Slice(unsafe.StringData(file_serverpb_forwarding_proto_rawDesc), len(file_serverpb_forwarding_proto_rawDesc)),
			NumEnums:      0,
			NumMessages:   5,
			NumExtensions: 0,
			NumServices:   1,
		},
		GoTypes:           file_serverpb_forwarding_proto_goTypes,
		DependencyIndexes: file_serverpb_forwarding_proto_depIdxs,
		MessageInfos:      file_serverpb_forwarding_proto_msgTypes,
	}.Build()
	File_serverpb_forwarding_proto = out.File
	file_serverpb_forwarding_proto_goTypes = nil
	file_serverpb_forwarding_proto_depIdxs = nil
}
